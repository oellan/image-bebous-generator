(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const z of document.querySelectorAll('link[rel="modulepreload"]'))lt(z);new MutationObserver(z=>{for(const g of z)if(g.type==="childList")for(const at of g.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&lt(at)}).observe(document,{childList:!0,subtree:!0});function ut(z){const g={};return z.integrity&&(g.integrity=z.integrity),z.referrerPolicy&&(g.referrerPolicy=z.referrerPolicy),z.crossOrigin==="use-credentials"?g.credentials="include":z.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function lt(z){if(z.ep)return;z.ep=!0;const g=ut(z);fetch(z.href,g)}})();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bi(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}function Ri(V){if(V.__esModule)return V;var L=V.default;if(typeof L=="function"){var ut=function lt(){return this instanceof lt?Reflect.construct(L,arguments,this.constructor):L.apply(this,arguments)};ut.prototype=L.prototype}else ut={};return Object.defineProperty(ut,"__esModule",{value:!0}),Object.keys(V).forEach(function(lt){var z=Object.getOwnPropertyDescriptor(V,lt);Object.defineProperty(ut,lt,z.get?z:{enumerable:!0,get:function(){return V[lt]}})}),ut}var Rn={exports:{}};const Li={},Oi=Object.freeze(Object.defineProperty({__proto__:null,default:Li},Symbol.toStringTag,{value:"Module"})),kr=Ri(Oi);(function(V,L){var ut=(()=>{var lt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(lt=lt||__filename),function(z){z=z||{};var g;g||(g=typeof z<"u"?z:{});var at,dt;g.ready=new Promise(function(t,e){at=t,dt=e}),function(t){t.Vd=t.Vd||[],t.Vd.push(function(){t.MakeSWCanvasSurface=function(e){var n=e;if(n.tagName!=="CANVAS"&&(n=document.getElementById(e),!n))throw"Canvas with id "+e+" was not found";return(e=t.MakeSurface(n.width,n.height))&&(e.Nd=n),e},t.MakeCanvasSurface||(t.MakeCanvasSurface=t.MakeSWCanvasSurface),t.MakeSurface=function(e,n){var o={width:e,height:n,colorType:t.ColorType.RGBA_8888,alphaType:t.AlphaType.Unpremul,colorSpace:t.ColorSpace.SRGB},s=e*n*4,f=t._malloc(s);return(o=t.Surface._makeRasterDirect(o,f,4*e))&&(o.Nd=null,o.Ef=e,o.Af=n,o.Cf=s,o.af=f,o.getCanvas().clear(t.TRANSPARENT)),o},t.MakeRasterDirectSurface=function(e,n,o){return t.Surface._makeRasterDirect(e,n.byteOffset,o)},t.Surface.prototype.flush=function(e){if(t.Od(this.Md),this._flush(),this.Nd){var n=new Uint8ClampedArray(t.HEAPU8.buffer,this.af,this.Cf);n=new ImageData(n,this.Ef,this.Af),e?this.Nd.getContext("2d").putImageData(n,0,0,e[0],e[1],e[2]-e[0],e[3]-e[1]):this.Nd.getContext("2d").putImageData(n,0,0)}},t.Surface.prototype.dispose=function(){this.af&&t._free(this.af),this.delete()},t.Od=t.Od||function(){},t.Se=t.Se||function(){return null}})}(g),function(t){t.Vd=t.Vd||[],t.Vd.push(function(){function e(c,h,v){return c&&c.hasOwnProperty(h)?c[h]:v}function n(c){var h=_e(Tt);return Tt[h]=c,h}function o(c){return c.naturalHeight||c.videoHeight||c.displayHeight||c.height}function s(c){return c.naturalWidth||c.videoWidth||c.displayWidth||c.width}function f(c,h,v,T){return c.bindTexture(c.TEXTURE_2D,h),T||v.alphaType!==t.AlphaType.Premul||c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),h}function m(c,h,v){v||h.alphaType!==t.AlphaType.Premul||c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),c.bindTexture(c.TEXTURE_2D,null)}t.GetWebGLContext=function(c,h){if(!c)throw"null canvas passed into makeWebGLContext";var v={alpha:e(h,"alpha",1),depth:e(h,"depth",1),stencil:e(h,"stencil",8),antialias:e(h,"antialias",0),premultipliedAlpha:e(h,"premultipliedAlpha",1),preserveDrawingBuffer:e(h,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:e(h,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:e(h,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:e(h,"enableExtensionsByDefault",1),explicitSwapControl:e(h,"explicitSwapControl",0),renderViaOffscreenBackBuffer:e(h,"renderViaOffscreenBackBuffer",0)};if(v.majorVersion=h&&h.majorVersion?h.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,v.explicitSwapControl)throw"explicitSwapControl is not supported";return c=oi(c,v),c?(yn(c),D.ge.getExtension("WEBGL_debug_renderer_info"),c):0},t.deleteContext=function(c){D===Ht[c]&&(D=null),typeof JSEvents=="object"&&JSEvents.ug(Ht[c].ge.canvas),Ht[c]&&Ht[c].ge.canvas&&(Ht[c].ge.canvas.yf=void 0),Ht[c]=null},t._setTextureCleanup({deleteTexture:function(c,h){var v=Tt[h];v&&Ht[c].ge.deleteTexture(v),Tt[h]=null}}),t.MakeWebGLContext=function(c){if(!this.Od(c))return null;var h=this._MakeGrContext();if(!h)return null;h.Md=c;var v=h.delete.bind(h);return h.delete=(function(){t.Od(this.Md),v()}).bind(h),D.ef=h},t.MakeGrContext=t.MakeWebGLContext,t.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){t.Od(this.Md),this._getResourceCacheLimitBytes()},t.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){t.Od(this.Md),this._getResourceCacheUsageBytes()},t.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){t.Od(this.Md),this._releaseResourcesAndAbandonContext()},t.GrDirectContext.prototype.setResourceCacheLimitBytes=function(c){t.Od(this.Md),this._setResourceCacheLimitBytes(c)},t.MakeOnScreenGLSurface=function(c,h,v,T,b,O){return!this.Od(c.Md)||(h=b===void 0||O===void 0?this._MakeOnScreenGLSurface(c,h,v,T):this._MakeOnScreenGLSurface(c,h,v,T,b,O),!h)?null:(h.Md=c.Md,h)},t.MakeRenderTarget=function(){var c=arguments[0];if(!this.Od(c.Md))return null;if(arguments.length===3){var h=this._MakeRenderTargetWH(c,arguments[1],arguments[2]);if(!h)return null}else if(arguments.length===2){if(h=this._MakeRenderTargetII(c,arguments[1]),!h)return null}else return null;return h.Md=c.Md,h},t.MakeWebGLCanvasSurface=function(c,h,v){h=h||null;var T=c,b=typeof OffscreenCanvas<"u"&&T instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||b||(T=document.getElementById(c),T)))throw"Canvas with id "+c+" was not found";if(c=this.GetWebGLContext(T,v),!c||0>c)throw"failed to create webgl context: err "+c;return c=this.MakeWebGLContext(c),h=this.MakeOnScreenGLSurface(c,T.width,T.height,h),h||(h=T.cloneNode(!0),T.parentNode.replaceChild(h,T),h.classList.add("ck-replaced"),t.MakeSWCanvasSurface(h))},t.MakeCanvasSurface=t.MakeWebGLCanvasSurface,t.Surface.prototype.makeImageFromTexture=function(c,h){return t.Od(this.Md),c=n(c),(h=this._makeImageFromTexture(this.Md,c,h))&&(h.Le=c),h},t.Surface.prototype.makeImageFromTextureSource=function(c,h,v){h||(h={height:o(c),width:s(c),colorType:t.ColorType.RGBA_8888,alphaType:v?t.AlphaType.Premul:t.AlphaType.Unpremul}),h.colorSpace||(h.colorSpace=t.ColorSpace.SRGB),t.Od(this.Md);var T=D.ge;return v=f(T,T.createTexture(),h,v),D.version===2?T.texImage2D(T.TEXTURE_2D,0,T.RGBA,h.width,h.height,0,T.RGBA,T.UNSIGNED_BYTE,c):T.texImage2D(T.TEXTURE_2D,0,T.RGBA,T.RGBA,T.UNSIGNED_BYTE,c),m(T,h),this._resetContext(),this.makeImageFromTexture(v,h)},t.Surface.prototype.updateTextureFromSource=function(c,h,v){if(c.Le){t.Od(this.Md);var T=c.getImageInfo(),b=D.ge,O=f(b,Tt[c.Le],T,v);D.version===2?b.texImage2D(b.TEXTURE_2D,0,b.RGBA,s(h),o(h),0,b.RGBA,b.UNSIGNED_BYTE,h):b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,h),m(b,T,v),this._resetContext(),Tt[c.Le]=null,c.Le=n(O),T.colorSpace=c.getColorSpace(),h=this._makeImageFromTexture(this.Md,c.Le,T),v=c.Ld.Td,b=c.Ld.$d,c.Ld.Td=h.Ld.Td,c.Ld.$d=h.Ld.$d,h.Ld.Td=v,h.Ld.$d=b,h.delete(),T.colorSpace.delete()}},t.MakeLazyImageFromTextureSource=function(c,h,v){h||(h={height:o(c),width:s(c),colorType:t.ColorType.RGBA_8888,alphaType:v?t.AlphaType.Premul:t.AlphaType.Unpremul}),h.colorSpace||(h.colorSpace=t.ColorSpace.SRGB);var T={makeTexture:function(){var b=D,O=b.ge,P=f(O,O.createTexture(),h,v);return b.version===2?O.texImage2D(O.TEXTURE_2D,0,O.RGBA,h.width,h.height,0,O.RGBA,O.UNSIGNED_BYTE,c):O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,c),m(O,h,v),n(P)},freeSrc:function(){}};return c.constructor.name==="VideoFrame"&&(T.freeSrc=function(){c.close()}),t.Image._makeFromGenerator(h,T)},t.Od=function(c){return c?yn(c):!1},t.Se=function(){return D&&D.ef&&!D.ef.isDeleted()?D.ef:null}})}(g),function(t){function e(i,r,a,l,y){for(var w=0;w<i.length;w++)r[w*a+(w*y+l+a)%a]=i[w];return r}function n(i){for(var r=i*i,a=Array(r);r--;)a[r]=r%(i+1)===0?1:0;return a}function o(i){return i?i.constructor===Float32Array&&i.length===4:!1}function s(i){return(c(255*i[3])<<24|c(255*i[0])<<16|c(255*i[1])<<8|c(255*i[2])<<0)>>>0}function f(i){if(i&&i._ck)return i;if(i instanceof Float32Array){for(var r=Math.floor(i.length/4),a=new Uint32Array(r),l=0;l<r;l++)a[l]=s(i.slice(4*l,4*(l+1)));return a}if(i instanceof Uint32Array)return i;if(i instanceof Array&&i[0]instanceof Float32Array)return i.map(s)}function m(i){if(i===void 0)return 1;var r=parseFloat(i);return i&&i.indexOf("%")!==-1?r/100:r}function c(i){return Math.round(Math.max(0,Math.min(i||0,255)))}function h(i,r){r&&r._ck||t._free(i)}function v(i,r,a){if(!i||!i.length)return $;if(i&&i._ck)return i.byteOffset;var l=t[r].BYTES_PER_ELEMENT;return a||(a=t._malloc(i.length*l)),t[r].set(i,a/l),a}function T(i){var r={ce:$,count:i.length,colorType:t.ColorType.RGBA_F32};if(i instanceof Float32Array)r.ce=v(i,"HEAPF32"),r.count=i.length/4;else if(i instanceof Uint32Array)r.ce=v(i,"HEAPU32"),r.colorType=t.ColorType.RGBA_8888;else if(i instanceof Array){if(i&&i.length){for(var a=t._malloc(16*i.length),l=0,y=a/4,w=0;w<i.length;w++)for(var M=0;4>M;M++)t.HEAPF32[y+l]=i[w][M],l++;i=a}else i=$;r.ce=i}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof i;return r}function b(i){if(!i)return $;var r=Cr.toTypedArray();if(i.length){if(i.length===6||i.length===9)return v(i,"HEAPF32",ee),i.length===6&&t.HEAPF32.set(xi,6+ee/4),ee;if(i.length===16)return r[0]=i[0],r[1]=i[1],r[2]=i[3],r[3]=i[4],r[4]=i[5],r[5]=i[7],r[6]=i[12],r[7]=i[13],r[8]=i[15],ee;throw"invalid matrix size"}if(i.m11===void 0)throw"invalid matrix argument";return r[0]=i.m11,r[1]=i.m21,r[2]=i.m41,r[3]=i.m12,r[4]=i.m22,r[5]=i.m42,r[6]=i.m14,r[7]=i.m24,r[8]=i.m44,ee}function O(i){if(!i)return $;var r=br.toTypedArray();if(i.length){if(i.length!==16&&i.length!==6&&i.length!==9)throw"invalid matrix size";return i.length===16?v(i,"HEAPF32",Se):(r.fill(0),r[0]=i[0],r[1]=i[1],r[3]=i[2],r[4]=i[3],r[5]=i[4],r[7]=i[5],r[10]=1,r[12]=i[6],r[13]=i[7],r[15]=i[8],i.length===6&&(r[12]=0,r[13]=0,r[15]=1),Se)}if(i.m11===void 0)throw"invalid matrix argument";return r[0]=i.m11,r[1]=i.m21,r[2]=i.m31,r[3]=i.m41,r[4]=i.m12,r[5]=i.m22,r[6]=i.m32,r[7]=i.m42,r[8]=i.m13,r[9]=i.m23,r[10]=i.m33,r[11]=i.m43,r[12]=i.m14,r[13]=i.m24,r[14]=i.m34,r[15]=i.m44,Se}function P(i,r){return v(i,"HEAPF32",r||de)}function j(i,r,a,l){var y=xr.toTypedArray();return y[0]=i,y[1]=r,y[2]=a,y[3]=l,de}function N(i){for(var r=new Float32Array(4),a=0;4>a;a++)r[a]=t.HEAPF32[i/4+a];return r}function H(i,r){return v(i,"HEAPF32",r||ct)}function At(i,r){return v(i,"HEAPF32",r||Lr)}function Ct(){for(var i=0,r=0;r<arguments.length-1;r+=2)i+=arguments[r]*arguments[r+1];return i}function je(i,r,a){for(var l=Array(i.length),y=0;y<a;y++)for(var w=0;w<a;w++){for(var M=0,B=0;B<a;B++)M+=i[a*y+B]*r[a*B+w];l[y*a+w]=M}return l}function Ie(i,r){for(var a=je(r[0],r[1],i),l=2;l<r.length;)a=je(a,r[l],i),l++;return a}t.Color=function(i,r,a,l){return l===void 0&&(l=1),t.Color4f(c(i)/255,c(r)/255,c(a)/255,l)},t.ColorAsInt=function(i,r,a,l){return l===void 0&&(l=255),(c(l)<<24|c(i)<<16|c(r)<<8|c(a)<<0&268435455)>>>0},t.Color4f=function(i,r,a,l){return l===void 0&&(l=1),Float32Array.of(i,r,a,l)},Object.defineProperty(t,"TRANSPARENT",{get:function(){return t.Color4f(0,0,0,0)}}),Object.defineProperty(t,"BLACK",{get:function(){return t.Color4f(0,0,0,1)}}),Object.defineProperty(t,"WHITE",{get:function(){return t.Color4f(1,1,1,1)}}),Object.defineProperty(t,"RED",{get:function(){return t.Color4f(1,0,0,1)}}),Object.defineProperty(t,"GREEN",{get:function(){return t.Color4f(0,1,0,1)}}),Object.defineProperty(t,"BLUE",{get:function(){return t.Color4f(0,0,1,1)}}),Object.defineProperty(t,"YELLOW",{get:function(){return t.Color4f(1,1,0,1)}}),Object.defineProperty(t,"CYAN",{get:function(){return t.Color4f(0,1,1,1)}}),Object.defineProperty(t,"MAGENTA",{get:function(){return t.Color4f(1,0,1,1)}}),t.getColorComponents=function(i){return[Math.floor(255*i[0]),Math.floor(255*i[1]),Math.floor(255*i[2]),i[3]]},t.parseColorString=function(i,r){if(i=i.toLowerCase(),i.startsWith("#")){switch(r=255,i.length){case 9:r=parseInt(i.slice(7,9),16);case 7:var a=parseInt(i.slice(1,3),16),l=parseInt(i.slice(3,5),16),y=parseInt(i.slice(5,7),16);break;case 5:r=17*parseInt(i.slice(4,5),16);case 4:a=17*parseInt(i.slice(1,2),16),l=17*parseInt(i.slice(2,3),16),y=17*parseInt(i.slice(3,4),16)}return t.Color(a,l,y,r/255)}return i.startsWith("rgba")?(i=i.slice(5,-1),i=i.split(","),t.Color(+i[0],+i[1],+i[2],m(i[3]))):i.startsWith("rgb")?(i=i.slice(4,-1),i=i.split(","),t.Color(+i[0],+i[1],+i[2],m(i[3]))):i.startsWith("gray(")||i.startsWith("hsl")||!r||(i=r[i],i===void 0)?t.BLACK:i},t.multiplyByAlpha=function(i,r){return i=i.slice(),i[3]=Math.max(0,Math.min(i[3]*r,1)),i},t.Malloc=function(i,r){var a=t._malloc(r*i.BYTES_PER_ELEMENT);return{_ck:!0,length:r,byteOffset:a,re:null,subarray:function(l,y){return l=this.toTypedArray().subarray(l,y),l._ck=!0,l},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new i(t.HEAPU8.buffer,a,r),this.re._ck=!0,this.re)}}},t.Free=function(i){t._free(i.byteOffset),i.byteOffset=$,i.toTypedArray=null,i.re=null};var ee=$,Cr,Se=$,br,de=$,xr,Vt,ct=$,Mn,re=$,Fn,Er=$,Tn,Br=$,Rr,sr=$,Cn,Lr=$,bn,xn=$,xi=Float32Array.of(0,0,1),$=0;t.onRuntimeInitialized=function(){function i(r,a,l,y,w,M,B){M||(M=4*y.width,y.colorType===t.ColorType.RGBA_F16?M*=2:y.colorType===t.ColorType.RGBA_F32&&(M*=4));var U=M*y.height,I=w?w.byteOffset:t._malloc(U);if(B?!r._readPixels(y,I,M,a,l,B):!r._readPixels(y,I,M,a,l))return w||t._free(I),null;if(w)return w.toTypedArray();switch(y.colorType){case t.ColorType.RGBA_8888:case t.ColorType.RGBA_F16:r=new Uint8Array(t.HEAPU8.buffer,I,U).slice();break;case t.ColorType.RGBA_F32:r=new Float32Array(t.HEAPU8.buffer,I,U).slice();break;default:return null}return t._free(I),r}xr=t.Malloc(Float32Array,4),de=xr.byteOffset,br=t.Malloc(Float32Array,16),Se=br.byteOffset,Cr=t.Malloc(Float32Array,9),ee=Cr.byteOffset,Cn=t.Malloc(Float32Array,12),Lr=Cn.byteOffset,bn=t.Malloc(Float32Array,12),xn=bn.byteOffset,Vt=t.Malloc(Float32Array,4),ct=Vt.byteOffset,Mn=t.Malloc(Float32Array,4),re=Mn.byteOffset,Fn=t.Malloc(Float32Array,3),Er=Fn.byteOffset,Tn=t.Malloc(Float32Array,3),Br=Tn.byteOffset,Rr=t.Malloc(Int32Array,4),sr=Rr.byteOffset,t.ColorSpace.SRGB=t.ColorSpace._MakeSRGB(),t.ColorSpace.DISPLAY_P3=t.ColorSpace._MakeDisplayP3(),t.ColorSpace.ADOBE_RGB=t.ColorSpace._MakeAdobeRGB(),t.GlyphRunFlags={IsWhiteSpace:t._GlyphRunFlags_isWhiteSpace},t.Path.MakeFromCmds=function(r){var a=v(r,"HEAPF32"),l=t.Path._MakeFromCmds(a,r.length);return h(a,r),l},t.Path.MakeFromVerbsPointsWeights=function(r,a,l){var y=v(r,"HEAPU8"),w=v(a,"HEAPF32"),M=v(l,"HEAPF32"),B=t.Path._MakeFromVerbsPointsWeights(y,r.length,w,a.length,M,l&&l.length||0);return h(y,r),h(w,a),h(M,l),B},t.Path.prototype.addArc=function(r,a,l){return r=H(r),this._addArc(r,a,l),this},t.Path.prototype.addCircle=function(r,a,l,y){return this._addCircle(r,a,l,!!y),this},t.Path.prototype.addOval=function(r,a,l){return l===void 0&&(l=1),r=H(r),this._addOval(r,!!a,l),this},t.Path.prototype.addPath=function(){var r=Array.prototype.slice.call(arguments),a=r[0],l=!1;if(typeof r[r.length-1]=="boolean"&&(l=r.pop()),r.length===1)this._addPath(a,1,0,0,0,1,0,0,0,1,l);else if(r.length===2)r=r[1],this._addPath(a,r[0],r[1],r[2],r[3],r[4],r[5],r[6]||0,r[7]||0,r[8]||1,l);else if(r.length===7||r.length===10)this._addPath(a,r[1],r[2],r[3],r[4],r[5],r[6],r[7]||0,r[8]||0,r[9]||1,l);else return null;return this},t.Path.prototype.addPoly=function(r,a){var l=v(r,"HEAPF32");return this._addPoly(l,r.length/2,a),h(l,r),this},t.Path.prototype.addRect=function(r,a){return r=H(r),this._addRect(r,!!a),this},t.Path.prototype.addRRect=function(r,a){return r=At(r),this._addRRect(r,!!a),this},t.Path.prototype.addVerbsPointsWeights=function(r,a,l){var y=v(r,"HEAPU8"),w=v(a,"HEAPF32"),M=v(l,"HEAPF32");this._addVerbsPointsWeights(y,r.length,w,a.length,M,l&&l.length||0),h(y,r),h(w,a),h(M,l)},t.Path.prototype.arc=function(r,a,l,y,w,M){return r=t.LTRBRect(r-l,a-l,r+l,a+l),w=(w-y)/Math.PI*180-360*!!M,M=new t.Path,M.addArc(r,y/Math.PI*180,w),this.addPath(M,!0),M.delete(),this},t.Path.prototype.arcToOval=function(r,a,l,y){return r=H(r),this._arcToOval(r,a,l,y),this},t.Path.prototype.arcToRotated=function(r,a,l,y,w,M,B){return this._arcToRotated(r,a,l,!!y,!!w,M,B),this},t.Path.prototype.arcToTangent=function(r,a,l,y,w){return this._arcToTangent(r,a,l,y,w),this},t.Path.prototype.close=function(){return this._close(),this},t.Path.prototype.conicTo=function(r,a,l,y,w){return this._conicTo(r,a,l,y,w),this},t.Path.prototype.computeTightBounds=function(r){this._computeTightBounds(ct);var a=Vt.toTypedArray();return r?(r.set(a),r):a.slice()},t.Path.prototype.cubicTo=function(r,a,l,y,w,M){return this._cubicTo(r,a,l,y,w,M),this},t.Path.prototype.dash=function(r,a,l){return this._dash(r,a,l)?this:null},t.Path.prototype.getBounds=function(r){this._getBounds(ct);var a=Vt.toTypedArray();return r?(r.set(a),r):a.slice()},t.Path.prototype.lineTo=function(r,a){return this._lineTo(r,a),this},t.Path.prototype.moveTo=function(r,a){return this._moveTo(r,a),this},t.Path.prototype.offset=function(r,a){return this._transform(1,0,r,0,1,a,0,0,1),this},t.Path.prototype.quadTo=function(r,a,l,y){return this._quadTo(r,a,l,y),this},t.Path.prototype.rArcTo=function(r,a,l,y,w,M,B){return this._rArcTo(r,a,l,y,w,M,B),this},t.Path.prototype.rConicTo=function(r,a,l,y,w){return this._rConicTo(r,a,l,y,w),this},t.Path.prototype.rCubicTo=function(r,a,l,y,w,M){return this._rCubicTo(r,a,l,y,w,M),this},t.Path.prototype.rLineTo=function(r,a){return this._rLineTo(r,a),this},t.Path.prototype.rMoveTo=function(r,a){return this._rMoveTo(r,a),this},t.Path.prototype.rQuadTo=function(r,a,l,y){return this._rQuadTo(r,a,l,y),this},t.Path.prototype.stroke=function(r){return r=r||{},r.width=r.width||1,r.miter_limit=r.miter_limit||4,r.cap=r.cap||t.StrokeCap.Butt,r.join=r.join||t.StrokeJoin.Miter,r.precision=r.precision||1,this._stroke(r)?this:null},t.Path.prototype.transform=function(){if(arguments.length===1){var r=arguments[0];this._transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6]||0,r[7]||0,r[8]||1)}else if(arguments.length===6||arguments.length===9)r=arguments,this._transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6]||0,r[7]||0,r[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},t.Path.prototype.trim=function(r,a,l){return this._trim(r,a,!!l)?this:null},t.Image.prototype.encodeToBytes=function(r,a){var l=t.Se();return r=r||t.ImageFormat.PNG,a=a||100,l?this._encodeToBytes(r,a,l):this._encodeToBytes(r,a)},t.Image.prototype.makeShaderCubic=function(r,a,l,y,w){return w=b(w),this._makeShaderCubic(r,a,l,y,w)},t.Image.prototype.makeShaderOptions=function(r,a,l,y,w){return w=b(w),this._makeShaderOptions(r,a,l,y,w)},t.Image.prototype.readPixels=function(r,a,l,y,w){var M=t.Se();return i(this,r,a,l,y,w,M)},t.Canvas.prototype.clear=function(r){t.Od(this.Md),r=P(r),this._clear(r)},t.Canvas.prototype.clipRRect=function(r,a,l){t.Od(this.Md),r=At(r),this._clipRRect(r,a,l)},t.Canvas.prototype.clipRect=function(r,a,l){t.Od(this.Md),r=H(r),this._clipRect(r,a,l)},t.Canvas.prototype.concat=function(r){t.Od(this.Md),r=O(r),this._concat(r)},t.Canvas.prototype.drawArc=function(r,a,l,y,w){t.Od(this.Md),r=H(r),this._drawArc(r,a,l,y,w)},t.Canvas.prototype.drawAtlas=function(r,a,l,y,w,M,B){if(r&&y&&a&&l&&a.length===l.length){t.Od(this.Md),w||(w=t.BlendMode.SrcOver);var U=v(a,"HEAPF32"),I=v(l,"HEAPF32"),X=l.length/4,p=v(f(M),"HEAPU32");if(B&&"B"in B&&"C"in B)this._drawAtlasCubic(r,I,U,p,X,w,B.B,B.C,y);else{let F=t.FilterMode.Linear,G=t.MipmapMode.None;B&&(F=B.filter,"mipmap"in B&&(G=B.mipmap)),this._drawAtlasOptions(r,I,U,p,X,w,F,G,y)}h(U,a),h(I,l),h(p,M)}},t.Canvas.prototype.drawCircle=function(r,a,l,y){t.Od(this.Md),this._drawCircle(r,a,l,y)},t.Canvas.prototype.drawColor=function(r,a){t.Od(this.Md),r=P(r),a!==void 0?this._drawColor(r,a):this._drawColor(r)},t.Canvas.prototype.drawColorInt=function(r,a){t.Od(this.Md),this._drawColorInt(r,a||t.BlendMode.SrcOver)},t.Canvas.prototype.drawColorComponents=function(r,a,l,y,w){t.Od(this.Md),r=j(r,a,l,y),w!==void 0?this._drawColor(r,w):this._drawColor(r)},t.Canvas.prototype.drawDRRect=function(r,a,l){t.Od(this.Md),r=At(r,Lr),a=At(a,xn),this._drawDRRect(r,a,l)},t.Canvas.prototype.drawImage=function(r,a,l,y){t.Od(this.Md),this._drawImage(r,a,l,y||null)},t.Canvas.prototype.drawImageCubic=function(r,a,l,y,w,M){t.Od(this.Md),this._drawImageCubic(r,a,l,y,w,M||null)},t.Canvas.prototype.drawImageOptions=function(r,a,l,y,w,M){t.Od(this.Md),this._drawImageOptions(r,a,l,y,w,M||null)},t.Canvas.prototype.drawImageNine=function(r,a,l,y,w){t.Od(this.Md),a=v(a,"HEAP32",sr),l=H(l),this._drawImageNine(r,a,l,y,w||null)},t.Canvas.prototype.drawImageRect=function(r,a,l,y,w){t.Od(this.Md),H(a,ct),H(l,re),this._drawImageRect(r,ct,re,y,!!w)},t.Canvas.prototype.drawImageRectCubic=function(r,a,l,y,w,M){t.Od(this.Md),H(a,ct),H(l,re),this._drawImageRectCubic(r,ct,re,y,w,M||null)},t.Canvas.prototype.drawImageRectOptions=function(r,a,l,y,w,M){t.Od(this.Md),H(a,ct),H(l,re),this._drawImageRectOptions(r,ct,re,y,w,M||null)},t.Canvas.prototype.drawLine=function(r,a,l,y,w){t.Od(this.Md),this._drawLine(r,a,l,y,w)},t.Canvas.prototype.drawOval=function(r,a){t.Od(this.Md),r=H(r),this._drawOval(r,a)},t.Canvas.prototype.drawPaint=function(r){t.Od(this.Md),this._drawPaint(r)},t.Canvas.prototype.drawParagraph=function(r,a,l){t.Od(this.Md),this._drawParagraph(r,a,l)},t.Canvas.prototype.drawPatch=function(r,a,l,y,w){if(24>r.length)throw"Need 12 cubic points";if(a&&4>a.length)throw"Need 4 colors";if(l&&8>l.length)throw"Need 4 shader coordinates";t.Od(this.Md);const M=v(r,"HEAPF32"),B=a?v(f(a),"HEAPU32"):$,U=l?v(l,"HEAPF32"):$;y||(y=t.BlendMode.Modulate),this._drawPatch(M,B,U,y,w),h(U,l),h(B,a),h(M,r)},t.Canvas.prototype.drawPath=function(r,a){t.Od(this.Md),this._drawPath(r,a)},t.Canvas.prototype.drawPicture=function(r){t.Od(this.Md),this._drawPicture(r)},t.Canvas.prototype.drawPoints=function(r,a,l){t.Od(this.Md);var y=v(a,"HEAPF32");this._drawPoints(r,y,a.length/2,l),h(y,a)},t.Canvas.prototype.drawRRect=function(r,a){t.Od(this.Md),r=At(r),this._drawRRect(r,a)},t.Canvas.prototype.drawRect=function(r,a){t.Od(this.Md),r=H(r),this._drawRect(r,a)},t.Canvas.prototype.drawRect4f=function(r,a,l,y,w){t.Od(this.Md),this._drawRect4f(r,a,l,y,w)},t.Canvas.prototype.drawShadow=function(r,a,l,y,w,M,B){t.Od(this.Md);var U=v(w,"HEAPF32"),I=v(M,"HEAPF32");a=v(a,"HEAPF32",Er),l=v(l,"HEAPF32",Br),this._drawShadow(r,a,l,y,U,I,B),h(U,w),h(I,M)},t.getShadowLocalBounds=function(r,a,l,y,w,M,B){return r=b(r),l=v(l,"HEAPF32",Er),y=v(y,"HEAPF32",Br),this._getShadowLocalBounds(r,a,l,y,w,M,ct)?(a=Vt.toTypedArray(),B?(B.set(a),B):a.slice()):null},t.Canvas.prototype.drawTextBlob=function(r,a,l,y){t.Od(this.Md),this._drawTextBlob(r,a,l,y)},t.Canvas.prototype.drawVertices=function(r,a,l){t.Od(this.Md),this._drawVertices(r,a,l)},t.Canvas.prototype.getDeviceClipBounds=function(r){this._getDeviceClipBounds(sr);var a=Rr.toTypedArray();return r?r.set(a):r=a.slice(),r},t.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(Se);for(var r=Se,a=Array(16),l=0;16>l;l++)a[l]=t.HEAPF32[r/4+l];return a},t.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(ee);for(var r=Array(9),a=0;9>a;a++)r[a]=t.HEAPF32[ee/4+a];return r},t.Canvas.prototype.makeSurface=function(r){return r=this._makeSurface(r),r.Md=this.Md,r},t.Canvas.prototype.readPixels=function(r,a,l,y,w){return t.Od(this.Md),i(this,r,a,l,y,w)},t.Canvas.prototype.saveLayer=function(r,a,l,y){return a=H(a),this._saveLayer(r||null,a,l||null,y||0)},t.Canvas.prototype.writePixels=function(r,a,l,y,w,M,B,U){if(r.byteLength%(a*l))throw"pixels length must be a multiple of the srcWidth * srcHeight";t.Od(this.Md);var I=r.byteLength/(a*l);M=M||t.AlphaType.Unpremul,B=B||t.ColorType.RGBA_8888,U=U||t.ColorSpace.SRGB;var X=I*a;return I=v(r,"HEAPU8"),a=this._writePixels({width:a,height:l,colorType:B,alphaType:M,colorSpace:U},I,X,y,w),h(I,r),a},t.ColorFilter.MakeBlend=function(r,a,l){return r=P(r),l=l||t.ColorSpace.SRGB,t.ColorFilter._MakeBlend(r,a,l)},t.ColorFilter.MakeMatrix=function(r){if(!r||r.length!==20)throw"invalid color matrix";var a=v(r,"HEAPF32"),l=t.ColorFilter._makeMatrix(a);return h(a,r),l},t.ContourMeasure.prototype.getPosTan=function(r,a){return this._getPosTan(r,ct),r=Vt.toTypedArray(),a?(a.set(r),a):r.slice()},t.ImageFilter.MakeDropShadow=function(r,a,l,y,w,M){return w=P(w,de),t.ImageFilter._MakeDropShadow(r,a,l,y,w,M)},t.ImageFilter.MakeDropShadowOnly=function(r,a,l,y,w,M){return w=P(w,de),t.ImageFilter._MakeDropShadowOnly(r,a,l,y,w,M)},t.ImageFilter.MakeImage=function(r,a,l,y){if(l=H(l,ct),y=H(y,re),"B"in a&&"C"in a)return t.ImageFilter._MakeImageCubic(r,a.B,a.C,l,y);const w=a.filter;let M=t.MipmapMode.None;return"mipmap"in a&&(M=a.mipmap),t.ImageFilter._MakeImageOptions(r,w,M,l,y)},t.ImageFilter.MakeMatrixTransform=function(r,a,l){if(r=b(r),"B"in a&&"C"in a)return t.ImageFilter._MakeMatrixTransformCubic(r,a.B,a.C,l);const y=a.filter;let w=t.MipmapMode.None;return"mipmap"in a&&(w=a.mipmap),t.ImageFilter._MakeMatrixTransformOptions(r,y,w,l)},t.Paint.prototype.getColor=function(){return this._getColor(de),N(de)},t.Paint.prototype.setColor=function(r,a){a=a||null,r=P(r),this._setColor(r,a)},t.Paint.prototype.setColorComponents=function(r,a,l,y,w){w=w||null,r=j(r,a,l,y),this._setColor(r,w)},t.Path.prototype.getPoint=function(r,a){return this._getPoint(r,ct),r=Vt.toTypedArray(),a?(a[0]=r[0],a[1]=r[1],a):r.slice(0,2)},t.Picture.prototype.makeShader=function(r,a,l,y,w){return y=b(y),w=H(w),this._makeShader(r,a,l,y,w)},t.PictureRecorder.prototype.beginRecording=function(r){return r=H(r),this._beginRecording(r)},t.Surface.prototype.getCanvas=function(){var r=this._getCanvas();return r.Md=this.Md,r},t.Surface.prototype.makeImageSnapshot=function(r){return t.Od(this.Md),r=v(r,"HEAP32",sr),this._makeImageSnapshot(r)},t.Surface.prototype.makeSurface=function(r){return t.Od(this.Md),r=this._makeSurface(r),r.Md=this.Md,r},t.Surface.prototype.Df=function(r,a){return this.He||(this.He=this.getCanvas()),requestAnimationFrame((function(){t.Od(this.Md),r(this.He),this.flush(a)}).bind(this))},t.Surface.prototype.requestAnimationFrame||(t.Surface.prototype.requestAnimationFrame=t.Surface.prototype.Df),t.Surface.prototype.zf=function(r,a){this.He||(this.He=this.getCanvas()),requestAnimationFrame((function(){t.Od(this.Md),r(this.He),this.flush(a),this.dispose()}).bind(this))},t.Surface.prototype.drawOnce||(t.Surface.prototype.drawOnce=t.Surface.prototype.zf),t.PathEffect.MakeDash=function(r,a){if(a||(a=0),!r.length||r.length%2===1)throw"Intervals array must have even length";var l=v(r,"HEAPF32");return a=t.PathEffect._MakeDash(l,r.length,a),h(l,r),a},t.PathEffect.MakeLine2D=function(r,a){return a=b(a),t.PathEffect._MakeLine2D(r,a)},t.PathEffect.MakePath2D=function(r,a){return r=b(r),t.PathEffect._MakePath2D(r,a)},t.Shader.MakeColor=function(r,a){return a=a||null,r=P(r),t.Shader._MakeColor(r,a)},t.Shader.Blend=t.Shader.MakeBlend,t.Shader.Color=t.Shader.MakeColor,t.Shader.MakeLinearGradient=function(r,a,l,y,w,M,B,U){U=U||null;var I=T(l),X=v(y,"HEAPF32");B=B||0,M=b(M);var p=Vt.toTypedArray();return p.set(r),p.set(a,2),r=t.Shader._MakeLinearGradient(ct,I.ce,I.colorType,X,I.count,w,B,M,U),h(I.ce,l),y&&h(X,y),r},t.Shader.MakeRadialGradient=function(r,a,l,y,w,M,B,U){U=U||null;var I=T(l),X=v(y,"HEAPF32");return B=B||0,M=b(M),r=t.Shader._MakeRadialGradient(r[0],r[1],a,I.ce,I.colorType,X,I.count,w,B,M,U),h(I.ce,l),y&&h(X,y),r},t.Shader.MakeSweepGradient=function(r,a,l,y,w,M,B,U,I,X){X=X||null;var p=T(l),F=v(y,"HEAPF32");return B=B||0,U=U||0,I=I||360,M=b(M),r=t.Shader._MakeSweepGradient(r,a,p.ce,p.colorType,F,p.count,w,U,I,B,M,X),h(p.ce,l),y&&h(F,y),r},t.Shader.MakeTwoPointConicalGradient=function(r,a,l,y,w,M,B,U,I,X){X=X||null;var p=T(w),F=v(M,"HEAPF32");I=I||0,U=b(U);var G=Vt.toTypedArray();return G.set(r),G.set(l,2),r=t.Shader._MakeTwoPointConicalGradient(ct,a,y,p.ce,p.colorType,F,p.count,B,I,U,X),h(p.ce,w),M&&h(F,M),r},t.Vertices.prototype.bounds=function(r){this._bounds(ct);var a=Vt.toTypedArray();return r?(r.set(a),r):a.slice()},t.Vd&&t.Vd.forEach(function(r){r()})},t.computeTonalColors=function(i){var r=v(i.ambient,"HEAPF32"),a=v(i.spot,"HEAPF32");this._computeTonalColors(r,a);var l={ambient:N(r),spot:N(a)};return h(r,i.ambient),h(a,i.spot),l},t.LTRBRect=function(i,r,a,l){return Float32Array.of(i,r,a,l)},t.XYWHRect=function(i,r,a,l){return Float32Array.of(i,r,i+a,r+l)},t.LTRBiRect=function(i,r,a,l){return Int32Array.of(i,r,a,l)},t.XYWHiRect=function(i,r,a,l){return Int32Array.of(i,r,i+a,r+l)},t.RRectXY=function(i,r,a){return Float32Array.of(i[0],i[1],i[2],i[3],r,a,r,a,r,a,r,a)},t.MakeAnimatedImageFromEncoded=function(i){i=new Uint8Array(i);var r=t._malloc(i.byteLength);return t.HEAPU8.set(i,r),(i=t._decodeAnimatedImage(r,i.byteLength))?i:null},t.MakeImageFromEncoded=function(i){i=new Uint8Array(i);var r=t._malloc(i.byteLength);return t.HEAPU8.set(i,r),(i=t._decodeImage(r,i.byteLength))?i:null};var We=null;t.MakeImageFromCanvasImageSource=function(i){var r=i.width,a=i.height;We||(We=document.createElement("canvas")),We.width=r,We.height=a;var l=We.getContext("2d",{wg:!0});return l.drawImage(i,0,0),i=l.getImageData(0,0,r,a),t.MakeImage({width:r,height:a,alphaType:t.AlphaType.Unpremul,colorType:t.ColorType.RGBA_8888,colorSpace:t.ColorSpace.SRGB},i.data,4*r)},t.MakeImage=function(i,r,a){var l=t._malloc(r.length);return t.HEAPU8.set(r,l),t._MakeImage(i,l,r.length,a)},t.MakeVertices=function(i,r,a,l,y,w){var M=y&&y.length||0,B=0;return a&&a.length&&(B|=1),l&&l.length&&(B|=2),w===void 0||w||(B|=4),i=new t._VerticesBuilder(i,r.length/2,M,B),v(r,"HEAPF32",i.positions()),i.texCoords()&&v(a,"HEAPF32",i.texCoords()),i.colors()&&v(f(l),"HEAPU32",i.colors()),i.indices()&&v(y,"HEAPU16",i.indices()),i.detach()},t.Matrix={},t.Matrix.identity=function(){return n(3)},t.Matrix.invert=function(i){var r=i[0]*i[4]*i[8]+i[1]*i[5]*i[6]+i[2]*i[3]*i[7]-i[2]*i[4]*i[6]-i[1]*i[3]*i[8]-i[0]*i[5]*i[7];return r?[(i[4]*i[8]-i[5]*i[7])/r,(i[2]*i[7]-i[1]*i[8])/r,(i[1]*i[5]-i[2]*i[4])/r,(i[5]*i[6]-i[3]*i[8])/r,(i[0]*i[8]-i[2]*i[6])/r,(i[2]*i[3]-i[0]*i[5])/r,(i[3]*i[7]-i[4]*i[6])/r,(i[1]*i[6]-i[0]*i[7])/r,(i[0]*i[4]-i[1]*i[3])/r]:null},t.Matrix.mapPoints=function(i,r){for(var a=0;a<r.length;a+=2){var l=r[a],y=r[a+1],w=i[6]*l+i[7]*y+i[8],M=i[3]*l+i[4]*y+i[5];r[a]=(i[0]*l+i[1]*y+i[2])/w,r[a+1]=M/w}return r},t.Matrix.multiply=function(){return Ie(3,arguments)},t.Matrix.rotated=function(i,r,a){r=r||0,a=a||0;var l=Math.sin(i);return i=Math.cos(i),[i,-l,Ct(l,a,1-i,r),l,i,Ct(-l,r,1-i,a),0,0,1]},t.Matrix.scaled=function(i,r,a,l){a=a||0,l=l||0;var y=e([i,r],n(3),3,0,1);return e([a-i*a,l-r*l],y,3,2,0)},t.Matrix.skewed=function(i,r,a,l){a=a||0,l=l||0;var y=e([i,r],n(3),3,1,-1);return e([-i*a,-r*l],y,3,2,0)},t.Matrix.translated=function(i,r){return e(arguments,n(3),3,2,0)},t.Vector={},t.Vector.dot=function(i,r){return i.map(function(a,l){return a*r[l]}).reduce(function(a,l){return a+l})},t.Vector.lengthSquared=function(i){return t.Vector.dot(i,i)},t.Vector.length=function(i){return Math.sqrt(t.Vector.lengthSquared(i))},t.Vector.mulScalar=function(i,r){return i.map(function(a){return a*r})},t.Vector.add=function(i,r){return i.map(function(a,l){return a+r[l]})},t.Vector.sub=function(i,r){return i.map(function(a,l){return a-r[l]})},t.Vector.dist=function(i,r){return t.Vector.length(t.Vector.sub(i,r))},t.Vector.normalize=function(i){return t.Vector.mulScalar(i,1/t.Vector.length(i))},t.Vector.cross=function(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]},t.M44={},t.M44.identity=function(){return n(4)},t.M44.translated=function(i){return e(i,n(4),4,3,0)},t.M44.scaled=function(i){return e(i,n(4),4,0,1)},t.M44.rotated=function(i,r){return t.M44.rotatedUnitSinCos(t.Vector.normalize(i),Math.sin(r),Math.cos(r))},t.M44.rotatedUnitSinCos=function(i,r,a){var l=i[0],y=i[1];i=i[2];var w=1-a;return[w*l*l+a,w*l*y-r*i,w*l*i+r*y,0,w*l*y+r*i,w*y*y+a,w*y*i-r*l,0,w*l*i-r*y,w*y*i+r*l,w*i*i+a,0,0,0,0,1]},t.M44.lookat=function(i,r,a){r=t.Vector.normalize(t.Vector.sub(r,i)),a=t.Vector.normalize(a),a=t.Vector.normalize(t.Vector.cross(r,a));var l=t.M44.identity();return e(a,l,4,0,0),e(t.Vector.cross(a,r),l,4,1,0),e(t.Vector.mulScalar(r,-1),l,4,2,0),e(i,l,4,3,0),i=t.M44.invert(l),i===null?t.M44.identity():i},t.M44.perspective=function(i,r,a){var l=1/(r-i);return a/=2,a=Math.cos(a)/Math.sin(a),[a,0,0,0,0,a,0,0,0,0,(r+i)*l,2*r*i*l,0,0,-1,1]},t.M44.rc=function(i,r,a){return i[4*r+a]},t.M44.multiply=function(){return Ie(4,arguments)},t.M44.invert=function(i){var r=i[0],a=i[4],l=i[8],y=i[12],w=i[1],M=i[5],B=i[9],U=i[13],I=i[2],X=i[6],p=i[10],F=i[14],G=i[3],K=i[7],ot=i[11];i=i[15];var _t=r*M-a*w,bt=r*B-l*w,kt=r*U-y*w,rt=a*B-l*M,E=a*U-y*M,u=l*U-y*B,d=I*K-X*G,_=I*ot-p*G,S=I*i-F*G,C=X*ot-p*K,x=X*i-F*K,k=p*i-F*ot,tt=_t*k-bt*x+kt*C+rt*S-E*_+u*d,et=1/tt;return tt===0||et===1/0?null:(_t*=et,bt*=et,kt*=et,rt*=et,E*=et,u*=et,d*=et,_*=et,S*=et,C*=et,x*=et,k*=et,r=[M*k-B*x+U*C,B*S-w*k-U*_,w*x-M*S+U*d,M*_-w*C-B*d,l*x-a*k-y*C,r*k-l*S+y*_,a*S-r*x-y*d,r*C-a*_+l*d,K*u-ot*E+i*rt,ot*kt-G*u-i*bt,G*E-K*kt+i*_t,K*bt-G*rt-ot*_t,p*E-X*u-F*rt,I*u-p*kt+F*bt,X*kt-I*E-F*_t,I*rt-X*bt+p*_t],r.every(function($t){return!isNaN($t)&&$t!==1/0&&$t!==-1/0})?r:null)},t.M44.transpose=function(i){return[i[0],i[4],i[8],i[12],i[1],i[5],i[9],i[13],i[2],i[6],i[10],i[14],i[3],i[7],i[11],i[15]]},t.M44.mustInvert=function(i){if(i=t.M44.invert(i),i===null)throw"Matrix not invertible";return i},t.M44.setupCamera=function(i,r,a){var l=t.M44.lookat(a.eye,a.coa,a.up);return a=t.M44.perspective(a.near,a.far,a.angle),r=[(i[2]-i[0])/2,(i[3]-i[1])/2,r],i=t.M44.multiply(t.M44.translated([(i[0]+i[2])/2,(i[1]+i[3])/2,0]),t.M44.scaled(r)),t.M44.multiply(i,a,l,t.M44.mustInvert(i))},t.ColorMatrix={},t.ColorMatrix.identity=function(){var i=new Float32Array(20);return i[0]=1,i[6]=1,i[12]=1,i[18]=1,i},t.ColorMatrix.scaled=function(i,r,a,l){var y=new Float32Array(20);return y[0]=i,y[6]=r,y[12]=a,y[18]=l,y};var Ei=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];t.ColorMatrix.rotated=function(i,r,a){var l=t.ColorMatrix.identity();return i=Ei[i],l[i[0]]=a,l[i[1]]=r,l[i[2]]=-r,l[i[3]]=a,l},t.ColorMatrix.postTranslate=function(i,r,a,l,y){return i[4]+=r,i[9]+=a,i[14]+=l,i[19]+=y,i},t.ColorMatrix.concat=function(i,r){for(var a=new Float32Array(20),l=0,y=0;20>y;y+=5){for(var w=0;4>w;w++)a[l++]=i[y]*r[w]+i[y+1]*r[w+5]+i[y+2]*r[w+10]+i[y+3]*r[w+15];a[l++]=i[y]*r[4]+i[y+1]*r[9]+i[y+2]*r[14]+i[y+3]*r[19]+i[y+4]}return a},function(i){i.Vd=i.Vd||[],i.Vd.push(function(){function r(p){if(!p||!p.length)return[];for(var F=[],G=0;G<p.length;G+=5){var K=i.LTRBRect(p[G],p[G+1],p[G+2],p[G+3]),ot=i.TextDirection.LTR;p[G+4]===0&&(ot=i.TextDirection.RTL),F.push({rect:K,dir:ot})}return i._free(p.byteOffset),F}function a(p){return p=p||{},p.weight===void 0&&(p.weight=i.FontWeight.Normal),p.width=p.width||i.FontWidth.Normal,p.slant=p.slant||i.FontSlant.Upright,p}function l(p){if(!p||!p.length)return $;for(var F=[],G=0;G<p.length;G++){var K=y(p[G]);F.push(K)}return v(F,"HEAPU32")}function y(p){if(B[p])return B[p];var F=Et(p)+1,G=i._malloc(F);return xt(p,Q,G,F),B[p]=G}function w(p){if(p._colorPtr=P(p.color),p._foregroundColorPtr=$,p._backgroundColorPtr=$,p._decorationColorPtr=$,p.foregroundColor&&(p._foregroundColorPtr=P(p.foregroundColor,U)),p.backgroundColor&&(p._backgroundColorPtr=P(p.backgroundColor,I)),p.decorationColor&&(p._decorationColorPtr=P(p.decorationColor,X)),Array.isArray(p.fontFamilies)&&p.fontFamilies.length?(p._fontFamiliesPtr=l(p.fontFamilies),p._fontFamiliesLen=p.fontFamilies.length):(p._fontFamiliesPtr=$,p._fontFamiliesLen=0),p.locale){var F=p.locale;p._localePtr=y(F),p._localeLen=Et(F)+1}else p._localePtr=$,p._localeLen=0;if(Array.isArray(p.shadows)&&p.shadows.length){F=p.shadows;var G=F.map(function(rt){return rt.color||i.BLACK}),K=F.map(function(rt){return rt.blurRadius||0});p._shadowLen=F.length;for(var ot=i._malloc(8*F.length),_t=ot/4,bt=0;bt<F.length;bt++){var kt=F[bt].offset||[0,0];i.HEAPF32[_t]=kt[0],i.HEAPF32[_t+1]=kt[1],_t+=2}p._shadowColorsPtr=T(G).ce,p._shadowOffsetsPtr=ot,p._shadowBlurRadiiPtr=v(K,"HEAPF32")}else p._shadowLen=0,p._shadowColorsPtr=$,p._shadowOffsetsPtr=$,p._shadowBlurRadiiPtr=$;Array.isArray(p.fontFeatures)&&p.fontFeatures.length?(F=p.fontFeatures,G=F.map(function(rt){return rt.name}),K=F.map(function(rt){return rt.value}),p._fontFeatureLen=F.length,p._fontFeatureNamesPtr=l(G),p._fontFeatureValuesPtr=v(K,"HEAPU32")):(p._fontFeatureLen=0,p._fontFeatureNamesPtr=$,p._fontFeatureValuesPtr=$),Array.isArray(p.fontVariations)&&p.fontVariations.length?(F=p.fontVariations,G=F.map(function(rt){return rt.axis}),K=F.map(function(rt){return rt.value}),p._fontVariationLen=F.length,p._fontVariationAxesPtr=l(G),p._fontVariationValuesPtr=v(K,"HEAPF32")):(p._fontVariationLen=0,p._fontVariationAxesPtr=$,p._fontVariationValuesPtr=$)}function M(p){i._free(p._fontFamiliesPtr),i._free(p._shadowColorsPtr),i._free(p._shadowOffsetsPtr),i._free(p._shadowBlurRadiiPtr),i._free(p._fontFeatureNamesPtr),i._free(p._fontFeatureValuesPtr),i._free(p._fontVariationAxesPtr),i._free(p._fontVariationValuesPtr)}i.Paragraph.prototype.getRectsForRange=function(p,F,G,K){return p=this._getRectsForRange(p,F,G,K),r(p)},i.Paragraph.prototype.getRectsForPlaceholders=function(){var p=this._getRectsForPlaceholders();return r(p)},i.TypefaceFontProvider.prototype.registerFont=function(p,F){if(p=i.Typeface.MakeFreeTypeFaceFromData(p),!p)return null;F=y(F),this._registerFont(p,F)},i.ParagraphStyle=function(p){if(p.disableHinting=p.disableHinting||!1,p.ellipsis){var F=p.ellipsis;p._ellipsisPtr=y(F),p._ellipsisLen=Et(F)+1}else p._ellipsisPtr=$,p._ellipsisLen=0;return p.heightMultiplier==null&&(p.heightMultiplier=-1),p.maxLines=p.maxLines||0,p.replaceTabCharacters=p.replaceTabCharacters||!1,F=(F=p.strutStyle)||{},F.strutEnabled=F.strutEnabled||!1,F.strutEnabled&&Array.isArray(F.fontFamilies)&&F.fontFamilies.length?(F._fontFamiliesPtr=l(F.fontFamilies),F._fontFamiliesLen=F.fontFamilies.length):(F._fontFamiliesPtr=$,F._fontFamiliesLen=0),F.fontStyle=a(F.fontStyle),F.fontSize==null&&(F.fontSize=-1),F.heightMultiplier==null&&(F.heightMultiplier=-1),F.halfLeading=F.halfLeading||!1,F.leading=F.leading||0,F.forceStrutHeight=F.forceStrutHeight||!1,p.strutStyle=F,p.textAlign=p.textAlign||i.TextAlign.Start,p.textDirection=p.textDirection||i.TextDirection.LTR,p.textHeightBehavior=p.textHeightBehavior||i.TextHeightBehavior.All,p.textStyle=i.TextStyle(p.textStyle),p},i.TextStyle=function(p){return p.color||(p.color=i.BLACK),p.decoration=p.decoration||0,p.decorationThickness=p.decorationThickness||0,p.decorationStyle=p.decorationStyle||i.DecorationStyle.Solid,p.textBaseline=p.textBaseline||i.TextBaseline.Alphabetic,p.fontSize==null&&(p.fontSize=-1),p.letterSpacing=p.letterSpacing||0,p.wordSpacing=p.wordSpacing||0,p.heightMultiplier==null&&(p.heightMultiplier=-1),p.halfLeading=p.halfLeading||!1,p.fontStyle=a(p.fontStyle),p};var B={},U=i._malloc(16),I=i._malloc(16),X=i._malloc(16);i.ParagraphBuilder.Make=function(p,F){return w(p.textStyle),F=i.ParagraphBuilder._Make(p,F),M(p.textStyle),F},i.ParagraphBuilder.MakeFromFontProvider=function(p,F){return w(p.textStyle),F=i.ParagraphBuilder._MakeFromFontProvider(p,F),M(p.textStyle),F},i.ParagraphBuilder.MakeFromFontCollection=function(p,F){return w(p.textStyle),F=i.ParagraphBuilder._MakeFromFontCollection(p,F),M(p.textStyle),F},i.ParagraphBuilder.ShapeText=function(p,F,G){let K=0;for(const ot of F)K+=ot.length;if(K!==p.length)throw"Accumulated block lengths must equal text.length";return i.ParagraphBuilder._ShapeText(p,F,G)},i.ParagraphBuilder.prototype.pushStyle=function(p){w(p),this._pushStyle(p),M(p)},i.ParagraphBuilder.prototype.pushPaintStyle=function(p,F,G){w(p),this._pushPaintStyle(p,F,G),M(p)},i.ParagraphBuilder.prototype.addPlaceholder=function(p,F,G,K,ot){G=G||i.PlaceholderAlignment.Baseline,K=K||i.TextBaseline.Alphabetic,this._addPlaceholder(p||0,F||0,G,K,ot||0)},i.ParagraphBuilder.prototype.setWordsUtf8=function(p){var F=v(p,"HEAPU32");this._setWordsUtf8(F,p&&p.length||0),h(F,p)},i.ParagraphBuilder.prototype.setWordsUtf16=function(p){var F=v(p,"HEAPU32");this._setWordsUtf16(F,p&&p.length||0),h(F,p)},i.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(p){var F=v(p,"HEAPU32");this._setGraphemeBreaksUtf8(F,p&&p.length||0),h(F,p)},i.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(p){var F=v(p,"HEAPU32");this._setGraphemeBreaksUtf16(F,p&&p.length||0),h(F,p)},i.ParagraphBuilder.prototype.setLineBreaksUtf8=function(p){var F=v(p,"HEAPU32");this._setLineBreaksUtf8(F,p&&p.length||0),h(F,p)},i.ParagraphBuilder.prototype.setLineBreaksUtf16=function(p){var F=v(p,"HEAPU32");this._setLineBreaksUtf16(F,p&&p.length||0),h(F,p)}})}(g),t.Vd=t.Vd||[],t.Vd.push(function(){t.Path.prototype.op=function(i,r){return this._op(i,r)?this:null},t.Path.prototype.simplify=function(){return this._simplify()?this:null}}),t.Vd=t.Vd||[],t.Vd.push(function(){t.Canvas.prototype.drawText=function(i,r,a,l,y){var w=Et(i),M=t._malloc(w+1);xt(i,Q,M,w+1),this._drawSimpleText(M,w,r,a,y,l),t._free(M)},t.Canvas.prototype.drawGlyphs=function(i,r,a,l,y,w){if(!(2*i.length<=r.length))throw"Not enough positions for the array of gyphs";t.Od(this.Md);const M=v(i,"HEAPU16"),B=v(r,"HEAPF32");this._drawGlyphs(i.length,M,B,a,l,y,w),h(B,r),h(M,i)},t.Font.prototype.getGlyphBounds=function(i,r,a){var l=v(i,"HEAPU16"),y=t._malloc(16*i.length);return this._getGlyphWidthBounds(l,i.length,$,y,r||null),r=new Float32Array(t.HEAPU8.buffer,y,4*i.length),h(l,i),a?(a.set(r),t._free(y),a):(i=Float32Array.from(r),t._free(y),i)},t.Font.prototype.getGlyphIDs=function(i,r,a){r||(r=i.length);var l=Et(i)+1,y=t._malloc(l);return xt(i,Q,y,l),i=t._malloc(2*r),r=this._getGlyphIDs(y,l-1,r,i),t._free(y),0>r?(t._free(i),null):(y=new Uint16Array(t.HEAPU8.buffer,i,r),a?(a.set(y),t._free(i),a):(a=Uint16Array.from(y),t._free(i),a))},t.Font.prototype.getGlyphIntercepts=function(i,r,a,l){var y=v(i,"HEAPU16"),w=v(r,"HEAPF32");return this._getGlyphIntercepts(y,i.length,!(i&&i._ck),w,r.length,!(r&&r._ck),a,l)},t.Font.prototype.getGlyphWidths=function(i,r,a){var l=v(i,"HEAPU16"),y=t._malloc(4*i.length);return this._getGlyphWidthBounds(l,i.length,y,$,r||null),r=new Float32Array(t.HEAPU8.buffer,y,i.length),h(l,i),a?(a.set(r),t._free(y),a):(i=Float32Array.from(r),t._free(y),i)},t.FontMgr.FromData=function(){if(!arguments.length)return null;var i=arguments;if(i.length===1&&Array.isArray(i[0])&&(i=arguments[0]),!i.length)return null;for(var r=[],a=[],l=0;l<i.length;l++){var y=new Uint8Array(i[l]),w=v(y,"HEAPU8");r.push(w),a.push(y.byteLength)}return r=v(r,"HEAPU32"),a=v(a,"HEAPU32"),i=t.FontMgr._fromData(r,a,i.length),t._free(r),t._free(a),i},t.Typeface.MakeFreeTypeFaceFromData=function(i){i=new Uint8Array(i);var r=v(i,"HEAPU8");return(i=t.Typeface._MakeFreeTypeFaceFromData(r,i.byteLength))?i:null},t.Typeface.prototype.getGlyphIDs=function(i,r,a){r||(r=i.length);var l=Et(i)+1,y=t._malloc(l);return xt(i,Q,y,l),i=t._malloc(2*r),r=this._getGlyphIDs(y,l-1,r,i),t._free(y),0>r?(t._free(i),null):(y=new Uint16Array(t.HEAPU8.buffer,i,r),a?(a.set(y),t._free(i),a):(a=Uint16Array.from(y),t._free(i),a))},t.TextBlob.MakeOnPath=function(i,r,a,l){if(i&&i.length&&r&&r.countPoints()){if(r.countPoints()===1)return this.MakeFromText(i,a);l||(l=0);var y=a.getGlyphIDs(i);y=a.getGlyphWidths(y);var w=[];r=new t.ContourMeasureIter(r,!1,1);for(var M=r.next(),B=new Float32Array(4),U=0;U<i.length&&M;U++){var I=y[U];if(l+=I/2,l>M.length()){if(M.delete(),M=r.next(),!M){i=i.substring(0,U);break}l=I/2}M.getPosTan(l,B);var X=B[2],p=B[3];w.push(X,p,B[0]-I/2*X,B[1]-I/2*p),l+=I/2}return i=this.MakeFromRSXform(i,w,a),M&&M.delete(),r.delete(),i}},t.TextBlob.MakeFromRSXform=function(i,r,a){var l=Et(i)+1,y=t._malloc(l);return xt(i,Q,y,l),i=v(r,"HEAPF32"),a=t.TextBlob._MakeFromRSXform(y,l-1,i,a),t._free(y),a||null},t.TextBlob.MakeFromRSXformGlyphs=function(i,r,a){var l=v(i,"HEAPU16");return r=v(r,"HEAPF32"),a=t.TextBlob._MakeFromRSXformGlyphs(l,2*i.length,r,a),h(l,i),a||null},t.TextBlob.MakeFromGlyphs=function(i,r){var a=v(i,"HEAPU16");return r=t.TextBlob._MakeFromGlyphs(a,2*i.length,r),h(a,i),r||null},t.TextBlob.MakeFromText=function(i,r){var a=Et(i)+1,l=t._malloc(a);return xt(i,Q,l,a),i=t.TextBlob._MakeFromText(l,a-1,r),t._free(l),i||null},t.MallocGlyphIDs=function(i){return t.Malloc(Uint16Array,i)}}),t.Vd=t.Vd||[],t.Vd.push(function(){t.MakePicture=function(i){i=new Uint8Array(i);var r=t._malloc(i.byteLength);return t.HEAPU8.set(i,r),(i=t._MakePicture(r,i.byteLength))?i:null}}),t.Vd=t.Vd||[],t.Vd.push(function(){t.RuntimeEffect.Make=function(i,r){return t.RuntimeEffect._Make(i,{onError:r||function(a){console.log("RuntimeEffect error",a)}})},t.RuntimeEffect.prototype.makeShader=function(i,r){var a=!i._ck,l=v(i,"HEAPF32");return r=b(r),this._makeShader(l,4*i.length,a,r)},t.RuntimeEffect.prototype.makeShaderWithChildren=function(i,r,a){var l=!i._ck,y=v(i,"HEAPF32");a=b(a);for(var w=[],M=0;M<r.length;M++)w.push(r[M].Ld.Td);return r=v(w,"HEAPU32"),this._makeShaderWithChildren(y,4*i.length,l,r,w.length,a)}}),function(){function i(E){for(var u=0;u<E.length;u++)if(E[u]!==void 0&&!Number.isFinite(E[u]))return!1;return!0}function r(E){var u=t.getColorComponents(E);E=u[0];var d=u[1],_=u[2];return u=u[3],u===1?(E=E.toString(16).toLowerCase(),d=d.toString(16).toLowerCase(),_=_.toString(16).toLowerCase(),E=E.length===1?"0"+E:E,d=d.length===1?"0"+d:d,_=_.length===1?"0"+_:_,"#"+E+d+_):(u=u===0||u===1?u:u.toFixed(8),"rgba("+E+", "+d+", "+_+", "+u+")")}function a(E){return t.parseColorString(E,bt)}function l(E){if(E=kt.exec(E),!E)return null;var u=parseFloat(E[4]),d=16;switch(E[5]){case"em":case"rem":d=16*u;break;case"pt":d=4*u/3;break;case"px":d=u;break;case"pc":d=16*u;break;case"in":d=96*u;break;case"cm":d=96*u/2.54;break;case"mm":d=3.7795275590551185*u;break;case"q":d=.9448818897637796*u;break;case"%":d=.21333333333333335*u}return{style:E[1],variant:E[2],weight:E[3],sizePx:d,family:E[6].trim()}}function y(E){this.Nd=E,this.Qd=new t.Paint,this.Qd.setAntiAlias(!0),this.Qd.setStrokeMiter(10),this.Qd.setStrokeCap(t.StrokeCap.Butt),this.Qd.setStrokeJoin(t.StrokeJoin.Miter),this.Qe="10px monospace",this.ne=new t.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=t.BLACK,this.we=0,this.Je=t.TRANSPARENT,this.ye=this.xe=0,this.Ke=this.ke=1,this.Ie=0,this.ve=[],this.Pd=t.BlendMode.SrcOver,this.Qd.setStrokeWidth(this.Ke),this.Qd.setBlendMode(this.Pd),this.Sd=new t.Path,this.Ud=t.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Sd.delete(),this.Qd.delete(),this.ne.delete(),this.Ce.forEach(function(u){u.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(u){u.a&&this.setTransform(u.a,u.b,u.c,u.d,u.e,u.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return o(this.be)?r(this.be):this.be},set:function(u){typeof u=="string"?this.be=a(u):u.ue&&(this.be=u)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Qe},set:function(u){var d=l(u),_=d.family;d.typeface=rt[_]?rt[_][(d.style||"normal")+"|"+(d.variant||"normal")+"|"+(d.weight||"normal")]||rt[_]["*"]:null,d&&(this.ne.setSize(d.sizePx),this.ne.setTypeface(d.typeface),this.Qe=u)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.ke},set:function(u){!isFinite(u)||0>u||1<u||(this.ke=u)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Pd){case t.BlendMode.SrcOver:return"source-over";case t.BlendMode.DstOver:return"destination-over";case t.BlendMode.Src:return"copy";case t.BlendMode.Dst:return"destination";case t.BlendMode.Clear:return"clear";case t.BlendMode.SrcIn:return"source-in";case t.BlendMode.DstIn:return"destination-in";case t.BlendMode.SrcOut:return"source-out";case t.BlendMode.DstOut:return"destination-out";case t.BlendMode.SrcATop:return"source-atop";case t.BlendMode.DstATop:return"destination-atop";case t.BlendMode.Xor:return"xor";case t.BlendMode.Plus:return"lighter";case t.BlendMode.Multiply:return"multiply";case t.BlendMode.Screen:return"screen";case t.BlendMode.Overlay:return"overlay";case t.BlendMode.Darken:return"darken";case t.BlendMode.Lighten:return"lighten";case t.BlendMode.ColorDodge:return"color-dodge";case t.BlendMode.ColorBurn:return"color-burn";case t.BlendMode.HardLight:return"hard-light";case t.BlendMode.SoftLight:return"soft-light";case t.BlendMode.Difference:return"difference";case t.BlendMode.Exclusion:return"exclusion";case t.BlendMode.Hue:return"hue";case t.BlendMode.Saturation:return"saturation";case t.BlendMode.Color:return"color";case t.BlendMode.Luminosity:return"luminosity"}},set:function(u){switch(u){case"source-over":this.Pd=t.BlendMode.SrcOver;break;case"destination-over":this.Pd=t.BlendMode.DstOver;break;case"copy":this.Pd=t.BlendMode.Src;break;case"destination":this.Pd=t.BlendMode.Dst;break;case"clear":this.Pd=t.BlendMode.Clear;break;case"source-in":this.Pd=t.BlendMode.SrcIn;break;case"destination-in":this.Pd=t.BlendMode.DstIn;break;case"source-out":this.Pd=t.BlendMode.SrcOut;break;case"destination-out":this.Pd=t.BlendMode.DstOut;break;case"source-atop":this.Pd=t.BlendMode.SrcATop;break;case"destination-atop":this.Pd=t.BlendMode.DstATop;break;case"xor":this.Pd=t.BlendMode.Xor;break;case"lighter":this.Pd=t.BlendMode.Plus;break;case"plus-lighter":this.Pd=t.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Pd=t.BlendMode.Multiply;break;case"screen":this.Pd=t.BlendMode.Screen;break;case"overlay":this.Pd=t.BlendMode.Overlay;break;case"darken":this.Pd=t.BlendMode.Darken;break;case"lighten":this.Pd=t.BlendMode.Lighten;break;case"color-dodge":this.Pd=t.BlendMode.ColorDodge;break;case"color-burn":this.Pd=t.BlendMode.ColorBurn;break;case"hard-light":this.Pd=t.BlendMode.HardLight;break;case"soft-light":this.Pd=t.BlendMode.SoftLight;break;case"difference":this.Pd=t.BlendMode.Difference;break;case"exclusion":this.Pd=t.BlendMode.Exclusion;break;case"hue":this.Pd=t.BlendMode.Hue;break;case"saturation":this.Pd=t.BlendMode.Saturation;break;case"color":this.Pd=t.BlendMode.Color;break;case"luminosity":this.Pd=t.BlendMode.Luminosity;break;default:return}this.Qd.setBlendMode(this.Pd)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Qd.getStrokeCap()){case t.StrokeCap.Butt:return"butt";case t.StrokeCap.Round:return"round";case t.StrokeCap.Square:return"square"}},set:function(u){switch(u){case"butt":this.Qd.setStrokeCap(t.StrokeCap.Butt);break;case"round":this.Qd.setStrokeCap(t.StrokeCap.Round);break;case"square":this.Qd.setStrokeCap(t.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Ie},set:function(u){isFinite(u)&&(this.Ie=u)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Qd.getStrokeJoin()){case t.StrokeJoin.Miter:return"miter";case t.StrokeJoin.Round:return"round";case t.StrokeJoin.Bevel:return"bevel"}},set:function(u){switch(u){case"miter":this.Qd.setStrokeJoin(t.StrokeJoin.Miter);break;case"round":this.Qd.setStrokeJoin(t.StrokeJoin.Round);break;case"bevel":this.Qd.setStrokeJoin(t.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Qd.getStrokeWidth()},set:function(u){0>=u||!u||(this.Ke=u,this.Qd.setStrokeWidth(u))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Qd.getStrokeMiter()},set:function(u){0>=u||!u||this.Qd.setStrokeMiter(u)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(u){0>u||!isFinite(u)||(this.we=u)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return r(this.Je)},set:function(u){this.Je=a(u)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(u){isFinite(u)&&(this.xe=u)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(u){isFinite(u)&&(this.ye=u)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return r(this.he)},set:function(u){typeof u=="string"?this.he=a(u):u.ue&&(this.he=u)}}),this.arc=function(u,d,_,S,C,x){F(this.Sd,u,d,_,_,0,S,C,x)},this.arcTo=function(u,d,_,S,C){I(this.Sd,u,d,_,S,C)},this.beginPath=function(){this.Sd.delete(),this.Sd=new t.Path},this.bezierCurveTo=function(u,d,_,S,C,x){var k=this.Sd;i([u,d,_,S,C,x])&&(k.isEmpty()&&k.moveTo(u,d),k.cubicTo(u,d,_,S,C,x))},this.clearRect=function(u,d,_,S){this.Qd.setStyle(t.PaintStyle.Fill),this.Qd.setBlendMode(t.BlendMode.Clear),this.Nd.drawRect(t.XYWHRect(u,d,_,S),this.Qd),this.Qd.setBlendMode(this.Pd)},this.clip=function(u,d){typeof u=="string"?(d=u,u=this.Sd):u&&u.$e&&(u=u.Wd),u||(u=this.Sd),u=u.copy(),d&&d.toLowerCase()==="evenodd"?u.setFillType(t.FillType.EvenOdd):u.setFillType(t.FillType.Winding),this.Nd.clipPath(u,t.ClipOp.Intersect,!0),u.delete()},this.closePath=function(){X(this.Sd)},this.createImageData=function(){if(arguments.length===1){var u=arguments[0];return new B(new Uint8ClampedArray(4*u.width*u.height),u.width,u.height)}if(arguments.length===2){u=arguments[0];var d=arguments[1];return new B(new Uint8ClampedArray(4*u*d),u,d)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(u,d,_,S){if(i(arguments)){var C=new U(u,d,_,S);return this.Ce.push(C),C}},this.createPattern=function(u,d){return u=new ot(u,d),this.Ce.push(u),u},this.createRadialGradient=function(u,d,_,S,C,x){if(i(arguments)){var k=new _t(u,d,_,S,C,x);return this.Ce.push(k),k}},this.drawImage=function(u){u instanceof M&&(u=u.tf());var d=this.Pe();if(arguments.length===3||arguments.length===5)var _=t.XYWHRect(arguments[1],arguments[2],arguments[3]||u.width(),arguments[4]||u.height()),S=t.XYWHRect(0,0,u.width(),u.height());else if(arguments.length===9)_=t.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),S=t.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Nd.drawImageRect(u,S,_,d,!1),d.dispose()},this.ellipse=function(u,d,_,S,C,x,k,tt){F(this.Sd,u,d,_,S,C,x,k,tt)},this.Pe=function(){var u=this.Qd.copy();if(u.setStyle(t.PaintStyle.Fill),o(this.be)){var d=t.multiplyByAlpha(this.be,this.ke);u.setColor(d)}else d=this.be.ue(this.Ud),u.setColor(t.Color(0,0,0,this.ke)),u.setShader(d);return u.dispose=function(){this.delete()},u},this.fill=function(u,d){if(typeof u=="string"?(d=u,u=this.Sd):u&&u.$e&&(u=u.Wd),d==="evenodd")this.Sd.setFillType(t.FillType.EvenOdd);else{if(d!=="nonzero"&&d)throw"invalid fill rule";this.Sd.setFillType(t.FillType.Winding)}u||(u=this.Sd),d=this.Pe();var _=this.ze(d);_&&(this.Nd.save(),this.se(),this.Nd.drawPath(u,_),this.Nd.restore(),_.dispose()),this.Nd.drawPath(u,d),d.dispose()},this.fillRect=function(u,d,_,S){var C=this.Pe(),x=this.ze(C);x&&(this.Nd.save(),this.se(),this.Nd.drawRect(t.XYWHRect(u,d,_,S),x),this.Nd.restore(),x.dispose()),this.Nd.drawRect(t.XYWHRect(u,d,_,S),C),C.dispose()},this.fillText=function(u,d,_){var S=this.Pe();u=t.TextBlob.MakeFromText(u,this.ne);var C=this.ze(S);C&&(this.Nd.save(),this.se(),this.Nd.drawTextBlob(u,d,_,C),this.Nd.restore(),C.dispose()),this.Nd.drawTextBlob(u,d,_,S),u.delete(),S.dispose()},this.getImageData=function(u,d,_,S){return(u=this.Nd.readPixels(u,d,{width:_,height:S,colorType:t.ColorType.RGBA_8888,alphaType:t.AlphaType.Unpremul,colorSpace:t.ColorSpace.SRGB}))?new B(new Uint8ClampedArray(u.buffer),_,S):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(u){var d=t.Matrix.invert(this.Ud);return t.Matrix.mapPoints(d,u),u},this.isPointInPath=function(u,d,_){var S=arguments;if(S.length===3)var C=this.Sd;else if(S.length===4)C=S[0],u=S[1],d=S[2],_=S[3];else throw"invalid arg count, need 3 or 4, got "+S.length;return!isFinite(u)||!isFinite(d)||(_=_||"nonzero",_!=="nonzero"&&_!=="evenodd")?!1:(S=this.nf([u,d]),u=S[0],d=S[1],C.setFillType(_==="nonzero"?t.FillType.Winding:t.FillType.EvenOdd),C.contains(u,d))},this.isPointInStroke=function(u,d){var _=arguments;if(_.length===2)var S=this.Sd;else if(_.length===3)S=_[0],u=_[1],d=_[2];else throw"invalid arg count, need 2 or 3, got "+_.length;return!isFinite(u)||!isFinite(d)?!1:(_=this.nf([u,d]),u=_[0],d=_[1],S=S.copy(),S.setFillType(t.FillType.Winding),S.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Qd.getStrokeCap(),join:this.Qd.getStrokeJoin(),precision:.3}),_=S.contains(u,d),S.delete(),_)},this.lineTo=function(u,d){G(this.Sd,u,d)},this.measureText=function(u){u=this.ne.getGlyphIDs(u),u=this.ne.getGlyphWidths(u);let d=0;for(const _ of u)d+=_;return{width:d}},this.moveTo=function(u,d){var _=this.Sd;i([u,d])&&_.moveTo(u,d)},this.putImageData=function(u,d,_,S,C,x,k){if(i([d,_,S,C,x,k])){if(S===void 0)this.Nd.writePixels(u.data,u.width,u.height,d,_);else if(S=S||0,C=C||0,x=x||u.width,k=k||u.height,0>x&&(S+=x,x=Math.abs(x)),0>k&&(C+=k,k=Math.abs(k)),0>S&&(x+=S,S=0),0>C&&(k+=C,C=0),!(0>=x||0>=k)){u=t.MakeImage({width:u.width,height:u.height,alphaType:t.AlphaType.Unpremul,colorType:t.ColorType.RGBA_8888,colorSpace:t.ColorSpace.SRGB},u.data,4*u.width);var tt=t.XYWHRect(S,C,x,k);d=t.XYWHRect(d+S,_+C,x,k),_=t.Matrix.invert(this.Ud),this.Nd.save(),this.Nd.concat(_),this.Nd.drawImageRect(u,tt,d,null,!1),this.Nd.restore(),u.delete()}}},this.quadraticCurveTo=function(u,d,_,S){var C=this.Sd;i([u,d,_,S])&&(C.isEmpty()&&C.moveTo(u,d),C.quadTo(u,d,_,S))},this.rect=function(u,d,_,S){var C=this.Sd;u=t.XYWHRect(u,d,_,S),i(u)&&C.addRect(u)},this.resetTransform=function(){this.Sd.transform(this.Ud);var u=t.Matrix.invert(this.Ud);this.Nd.concat(u),this.Ud=this.Nd.getTotalMatrix()},this.restore=function(){var u=this.mf.pop();if(u){var d=t.Matrix.multiply(this.Ud,t.Matrix.invert(u.Gf));this.Sd.transform(d),this.Qd.delete(),this.Qd=u.$f,this.ve=u.Yf,this.Ke=u.mg,this.he=u.lg,this.be=u.fs,this.xe=u.jg,this.ye=u.kg,this.we=u.dg,this.Je=u.ig,this.ke=u.Nf,this.Pd=u.Of,this.Ie=u.Zf,this.Qe=u.Mf,this.Nd.restore(),this.Ud=this.Nd.getTotalMatrix()}},this.rotate=function(u){if(isFinite(u)){var d=t.Matrix.rotated(-u);this.Sd.transform(d),this.Nd.rotate(u/Math.PI*180,0,0),this.Ud=this.Nd.getTotalMatrix()}},this.save=function(){if(this.be.te){var u=this.be.te();this.Ce.push(u)}else u=this.be;if(this.he.te){var d=this.he.te();this.Ce.push(d)}else d=this.he;this.mf.push({Gf:this.Ud.slice(),Yf:this.ve.slice(),mg:this.Ke,lg:d,fs:u,jg:this.xe,kg:this.ye,dg:this.we,ig:this.Je,Nf:this.ke,Zf:this.Ie,Of:this.Pd,$f:this.Qd.copy(),Mf:this.Qe}),this.Nd.save()},this.scale=function(u,d){if(i(arguments)){var _=t.Matrix.scaled(1/u,1/d);this.Sd.transform(_),this.Nd.scale(u,d),this.Ud=this.Nd.getTotalMatrix()}},this.setLineDash=function(u){for(var d=0;d<u.length;d++)if(!isFinite(u[d])||0>u[d])return;u.length%2===1&&Array.prototype.push.apply(u,u),this.ve=u},this.setTransform=function(u,d,_,S,C,x){i(arguments)&&(this.resetTransform(),this.transform(u,d,_,S,C,x))},this.se=function(){var u=t.Matrix.invert(this.Ud);this.Nd.concat(u),this.Nd.concat(t.Matrix.translated(this.xe,this.ye)),this.Nd.concat(this.Ud)},this.ze=function(u){var d=t.multiplyByAlpha(this.Je,this.ke);if(!t.getColorComponents(d)[3]||!(this.we||this.ye||this.xe))return null;u=u.copy(),u.setColor(d);var _=t.MaskFilter.MakeBlur(t.BlurStyle.Normal,this.we/2,!1);return u.setMaskFilter(_),u.dispose=function(){_.delete(),this.delete()},u},this.bf=function(){var u=this.Qd.copy();if(u.setStyle(t.PaintStyle.Stroke),o(this.he)){var d=t.multiplyByAlpha(this.he,this.ke);u.setColor(d)}else d=this.he.ue(this.Ud),u.setColor(t.Color(0,0,0,this.ke)),u.setShader(d);if(u.setStrokeWidth(this.Ke),this.ve.length){var _=t.PathEffect.MakeDash(this.ve,this.Ie);u.setPathEffect(_)}return u.dispose=function(){_&&_.delete(),this.delete()},u},this.stroke=function(u){u=u?u.Wd:this.Sd;var d=this.bf(),_=this.ze(d);_&&(this.Nd.save(),this.se(),this.Nd.drawPath(u,_),this.Nd.restore(),_.dispose()),this.Nd.drawPath(u,d),d.dispose()},this.strokeRect=function(u,d,_,S){var C=this.bf(),x=this.ze(C);x&&(this.Nd.save(),this.se(),this.Nd.drawRect(t.XYWHRect(u,d,_,S),x),this.Nd.restore(),x.dispose()),this.Nd.drawRect(t.XYWHRect(u,d,_,S),C),C.dispose()},this.strokeText=function(u,d,_){var S=this.bf();u=t.TextBlob.MakeFromText(u,this.ne);var C=this.ze(S);C&&(this.Nd.save(),this.se(),this.Nd.drawTextBlob(u,d,_,C),this.Nd.restore(),C.dispose()),this.Nd.drawTextBlob(u,d,_,S),u.delete(),S.dispose()},this.translate=function(u,d){if(i(arguments)){var _=t.Matrix.translated(-u,-d);this.Sd.transform(_),this.Nd.translate(u,d),this.Ud=this.Nd.getTotalMatrix()}},this.transform=function(u,d,_,S,C,x){u=[u,_,C,d,S,x,0,0,1],d=t.Matrix.invert(u),this.Sd.transform(d),this.Nd.concat(u),this.Ud=this.Nd.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function w(E){this.cf=E,this.Md=new y(E.getCanvas()),this.Re=[],this.decodeImage=function(u){if(u=t.MakeImageFromEncoded(u),!u)throw"Invalid input";return this.Re.push(u),new M(u)},this.loadFont=function(u,d){if(u=t.Typeface.MakeFreeTypeFaceFromData(u),!u)return null;this.Re.push(u);var _=(d.style||"normal")+"|"+(d.variant||"normal")+"|"+(d.weight||"normal");d=d.family,rt[d]||(rt[d]={"*":u}),rt[d][_]=u},this.makePath2D=function(u){return u=new K(u),this.Re.push(u.Wd),u},this.getContext=function(u){return u==="2d"?this.Md:null},this.toDataURL=function(u,d){this.cf.flush();var _=this.cf.makeImageSnapshot();if(_){u=u||"image/png";var S=t.ImageFormat.PNG;if(u==="image/jpeg"&&(S=t.ImageFormat.JPEG),d=_.encodeToBytes(S,d||.92)){if(_.delete(),u="data:"+u+";base64,",typeof Buffer<"u")d=Buffer.from(d).toString("base64");else{_=0,S=d.length;for(var C="",x;_<S;)x=d.slice(_,Math.min(_+32768,S)),C+=String.fromCharCode.apply(null,x),_+=32768;d=btoa(C)}return u+d}}},this.dispose=function(){this.Md.me(),this.Re.forEach(function(u){u.delete()}),this.cf.dispose()}}function M(E){this.width=E.width(),this.height=E.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.tf=function(){return E}}function B(E,u,d){if(!u||d===0)throw"invalid dimensions, width and height must be non-zero";if(E.length%4)throw"arr must be a multiple of 4";d=d||E.length/(4*u),Object.defineProperty(this,"data",{value:E,writable:!1}),Object.defineProperty(this,"height",{value:d,writable:!1}),Object.defineProperty(this,"width",{value:u,writable:!1})}function U(E,u,d,_){this.Yd=null,this.de=[],this.ae=[],this.addColorStop=function(S,C){if(0>S||1<S||!isFinite(S))throw"offset must be between 0 and 1 inclusively";C=a(C);var x=this.ae.indexOf(S);if(x!==-1)this.de[x]=C;else{for(x=0;x<this.ae.length&&!(this.ae[x]>S);x++);this.ae.splice(x,0,S),this.de.splice(x,0,C)}},this.te=function(){var S=new U(E,u,d,_);return S.de=this.de.slice(),S.ae=this.ae.slice(),S},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(S){var C=[E,u,d,_];t.Matrix.mapPoints(S,C),S=C[0];var x=C[1],k=C[2];return C=C[3],this.me(),this.Yd=t.Shader.MakeLinearGradient([S,x],[k,C],this.de,this.ae,t.TileMode.Clamp)}}function I(E,u,d,_,S,C){if(i([u,d,_,S,C])){if(0>C)throw"radii cannot be negative";E.isEmpty()&&E.moveTo(u,d),E.arcToTangent(u,d,_,S,C)}}function X(E){if(!E.isEmpty()){var u=E.getBounds();(u[3]-u[1]||u[2]-u[0])&&E.close()}}function p(E,u,d,_,S,C,x){x=(x-C)/Math.PI*180,C=C/Math.PI*180,u=t.LTRBRect(u-_,d-S,u+_,d+S),1e-5>Math.abs(Math.abs(x)-360)?(d=x/2,E.arcToOval(u,C,d,!1),E.arcToOval(u,C+d,d,!1)):E.arcToOval(u,C,x,!1)}function F(E,u,d,_,S,C,x,k,tt){if(i([u,d,_,S,C,x,k])){if(0>_||0>S)throw"radii cannot be negative";var et=2*Math.PI,$t=x%et;0>$t&&($t+=et);var Ue=$t-x;x=$t,k+=Ue,!tt&&k-x>=et?k=x+et:tt&&x-k>=et?k=x-et:!tt&&x>k?k=x+(et-(x-k)%et):tt&&x<k&&(k=x-(et-(k-x)%et)),C?(tt=t.Matrix.rotated(C,u,d),C=t.Matrix.rotated(-C,u,d),E.transform(C),p(E,u,d,_,S,x,k),E.transform(tt)):p(E,u,d,_,S,x,k)}}function G(E,u,d){i([u,d])&&(E.isEmpty()&&E.moveTo(u,d),E.lineTo(u,d))}function K(E){this.Wd=null,this.Wd=typeof E=="string"?t.Path.MakeFromSVGString(E):E&&E.$e?E.Wd.copy():new t.Path,this.$e=function(){return this.Wd},this.addPath=function(u,d){d||(d={a:1,c:0,e:0,b:0,d:1,f:0}),this.Wd.addPath(u.Wd,[d.a,d.c,d.e,d.b,d.d,d.f])},this.arc=function(u,d,_,S,C,x){F(this.Wd,u,d,_,_,0,S,C,x)},this.arcTo=function(u,d,_,S,C){I(this.Wd,u,d,_,S,C)},this.bezierCurveTo=function(u,d,_,S,C,x){var k=this.Wd;i([u,d,_,S,C,x])&&(k.isEmpty()&&k.moveTo(u,d),k.cubicTo(u,d,_,S,C,x))},this.closePath=function(){X(this.Wd)},this.ellipse=function(u,d,_,S,C,x,k,tt){F(this.Wd,u,d,_,S,C,x,k,tt)},this.lineTo=function(u,d){G(this.Wd,u,d)},this.moveTo=function(u,d){var _=this.Wd;i([u,d])&&_.moveTo(u,d)},this.quadraticCurveTo=function(u,d,_,S){var C=this.Wd;i([u,d,_,S])&&(C.isEmpty()&&C.moveTo(u,d),C.quadTo(u,d,_,S))},this.rect=function(u,d,_,S){var C=this.Wd;u=t.XYWHRect(u,d,_,S),i(u)&&C.addRect(u)}}function ot(E,u){switch(this.Yd=null,E instanceof M&&(E=E.tf()),this.Bf=E,this._transform=t.Matrix.identity(),u===""&&(u="repeat"),u){case"repeat-x":this.Ae=t.TileMode.Repeat,this.Be=t.TileMode.Decal;break;case"repeat-y":this.Ae=t.TileMode.Decal,this.Be=t.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=t.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=t.TileMode.Decal;break;default:throw"invalid repetition mode "+u}this.setTransform=function(d){d=[d.a,d.c,d.e,d.b,d.d,d.f,0,0,1],i(d)&&(this._transform=d)},this.te=function(){var d=new ot;return d.Ae=this.Ae,d.Be=this.Be,d},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(){return this.me(),this.Yd=this.Bf.makeShaderCubic(this.Ae,this.Be,.3333333333333333,.3333333333333333,this._transform)}}function _t(E,u,d,_,S,C){this.Yd=null,this.de=[],this.ae=[],this.addColorStop=function(x,k){if(0>x||1<x||!isFinite(x))throw"offset must be between 0 and 1 inclusively";k=a(k);var tt=this.ae.indexOf(x);if(tt!==-1)this.de[tt]=k;else{for(tt=0;tt<this.ae.length&&!(this.ae[tt]>x);tt++);this.ae.splice(tt,0,x),this.de.splice(tt,0,k)}},this.te=function(){var x=new _t(E,u,d,_,S,C);return x.de=this.de.slice(),x.ae=this.ae.slice(),x},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(x){var k=[E,u,_,S];t.Matrix.mapPoints(x,k);var tt=k[0],et=k[1],$t=k[2];k=k[3];var Ue=(Math.abs(x[0])+Math.abs(x[4]))/2;return x=d*Ue,Ue*=C,this.me(),this.Yd=t.Shader.MakeTwoPointConicalGradient([tt,et],x,[$t,k],Ue,this.de,this.ae,t.TileMode.Clamp)}}t._testing={};var bt={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};t._testing.parseColor=a,t._testing.colorToString=r;var kt=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),rt={"Noto Mono":{"*":null},monospace:{"*":null}};t._testing.parseFontString=l,t.MakeCanvas=function(E,u){return(E=t.MakeSurface(E,u))?new w(E):null},t.ImageData=function(){if(arguments.length===2){var E=arguments[0],u=arguments[1];return new B(new Uint8ClampedArray(4*E*u),E,u)}if(arguments.length===3){var d=arguments[0];if(d.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(E=arguments[1],u=arguments[2],d%4)throw"bytes must be given in a multiple of 4";if(d%E)throw"bytes must divide evenly by width";if(u&&u!==d/(4*E))throw"invalid height given";return new B(d,E,d/(4*E))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(g);var pe=Object.assign({},g),ye="./this.program",me=(t,e)=>{throw e},Zt=typeof window=="object",gt=typeof importScripts=="function",vt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",wt="",De,ne,It,ie,Jt,ge;vt?(wt=gt?kr.dirname(wt)+"/":__dirname+"/",ge=()=>{Jt||(ie=kr,Jt=kr)},De=function(t,e){return ge(),t=Jt.normalize(t),ie.readFileSync(t,e?void 0:"utf8")},It=t=>(t=De(t,!0),t.buffer||(t=new Uint8Array(t)),t),ne=(t,e,n)=>{ge(),t=Jt.normalize(t),ie.readFile(t,function(o,s){o?n(o):e(s.buffer)})},1<process.argv.length&&(ye=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("unhandledRejection",function(t){throw t}),me=(t,e)=>{if(Ut)throw process.exitCode=t,e;e instanceof Sn||nt("exiting due to exception: "+e),process.exit(t)},g.inspect=function(){return"[Emscripten Module object]"}):(Zt||gt)&&(gt?wt=self.location.href:typeof document<"u"&&document.currentScript&&(wt=document.currentScript.src),lt&&(wt=lt),wt.indexOf("blob:")!==0?wt=wt.substr(0,wt.replace(/[?#].*/,"").lastIndexOf("/")+1):wt="",De=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},gt&&(It=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),ne=(t,e,n)=>{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?e(o.response):n()},o.onerror=n,o.send(null)});var Ne=g.print||console.log.bind(console),nt=g.printErr||console.warn.bind(console);Object.assign(g,pe),pe=null,g.thisProgram&&(ye=g.thisProgram),g.quit&&(me=g.quit);var zt=0,Wt;g.wasmBinary&&(Wt=g.wasmBinary);var Ut=g.noExitRuntime||!0;typeof WebAssembly!="object"&&Fe("no native wasm support detected");var Xt,st=!1,oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ae(t,e,n){var o=e+n;for(n=e;t[n]&&!(n>=o);)++n;if(16<n-e&&t.buffer&&oe)return oe.decode(t.subarray(e,n));for(o="";e<n;){var s=t[e++];if(s&128){var f=t[e++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|f);else{var m=t[e++]&63;s=(s&240)==224?(s&15)<<12|f<<6|m:(s&7)<<18|f<<12|m<<6|t[e++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o}function ve(t,e){return t?ae(Q,t,e):""}function xt(t,e,n,o){if(!(0<o))return 0;var s=n;o=n+o-1;for(var f=0;f<t.length;++f){var m=t.charCodeAt(f);if(55296<=m&&57343>=m){var c=t.charCodeAt(++f);m=65536+((m&1023)<<10)|c&1023}if(127>=m){if(n>=o)break;e[n++]=m}else{if(2047>=m){if(n+1>=o)break;e[n++]=192|m>>6}else{if(65535>=m){if(n+2>=o)break;e[n++]=224|m>>12}else{if(n+3>=o)break;e[n++]=240|m>>18,e[n++]=128|m>>12&63}e[n++]=128|m>>6&63}e[n++]=128|m&63}}return e[n]=0,n-s}function Et(t){for(var e=0,n=0;n<t.length;++n){var o=t.charCodeAt(n);55296<=o&&57343>=o&&(o=65536+((o&1023)<<10)|t.charCodeAt(++n)&1023),127>=o?++e:e=2047>=o?e+2:65535>=o?e+3:e+4}return e}var Gr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function kn(t,e){for(var n=t>>1,o=n+e/2;!(n>=o)&&Ae[n];)++n;if(n<<=1,32<n-t&&Gr)return Gr.decode(Q.subarray(t,n));for(n="",o=0;!(o>=e/2);++o){var s=Kt[t+2*o>>1];if(s==0)break;n+=String.fromCharCode(s)}return n}function jn(t,e,n){if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var o=e;n=n<2*t.length?n/2:t.length;for(var s=0;s<n;++s)Kt[e>>1]=t.charCodeAt(s),e+=2;return Kt[e>>1]=0,e-o}function In(t){return 2*t.length}function Wn(t,e){for(var n=0,o="";!(n>=e/4);){var s=R[t+4*n>>2];if(s==0)break;++n,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o}function Un(t,e,n){if(n===void 0&&(n=2147483647),4>n)return 0;var o=e;n=o+n-4;for(var s=0;s<t.length;++s){var f=t.charCodeAt(s);if(55296<=f&&57343>=f){var m=t.charCodeAt(++s);f=65536+((f&1023)<<10)|m&1023}if(R[e>>2]=f,e+=4,e+4>n)break}return R[e>>2]=0,e-o}function Gn(t){for(var e=0,n=0;n<t.length;++n){var o=t.charCodeAt(n);55296<=o&&57343>=o&&++n,e+=4}return e}var lr,Gt,Q,Kt,Ae,R,q,W,Dr;function Nr(){var t=Xt.buffer;lr=t,g.HEAP8=Gt=new Int8Array(t),g.HEAP16=Kt=new Int16Array(t),g.HEAP32=R=new Int32Array(t),g.HEAPU8=Q=new Uint8Array(t),g.HEAPU16=Ae=new Uint16Array(t),g.HEAPU32=q=new Uint32Array(t),g.HEAPF32=W=new Float32Array(t),g.HEAPF64=Dr=new Float64Array(t)}var Hr,Vr=[],$r=[],Xr=[];function Dn(){var t=g.preRun.shift();Vr.unshift(t)}var se=0,Me=null;function Fe(t){throw g.onAbort&&g.onAbort(t),t="Aborted("+t+")",nt(t),st=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),dt(t),t}function Qr(){return St.startsWith("data:application/octet-stream;base64,")}var St;if(St="canvaskit.wasm",!Qr()){var Zr=St;St=g.locateFile?g.locateFile(Zr,wt):wt+Zr}function Jr(){var t=St;try{if(t==St&&Wt)return new Uint8Array(Wt);if(It)return It(t);throw"both async and sync fetching of the wasm failed"}catch(e){Fe(e)}}function Nn(){if(!Wt&&(Zt||gt)){if(typeof fetch=="function"&&!St.startsWith("file://"))return fetch(St,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+St+"'";return t.arrayBuffer()}).catch(function(){return Jr()});if(ne)return new Promise(function(t,e){ne(St,function(n){t(new Uint8Array(n))},e)})}return Promise.resolve().then(function(){return Jr()})}function fr(t){for(;0<t.length;)t.shift()(g)}function ft(t){return Hr.get(t)}var He={};function cr(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Te(t){return this.fromWireType(R[t>>2])}var we={},ue={},Ve={};function zr(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?"_"+t:t}function dr(t,e){return t=zr(t),function(){return e.apply(this,arguments)}}function hr(t){var e=Error,n=dr(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},n}var Kr=void 0;function $e(t){throw new Kr(t)}function Bt(t,e,n){function o(c){c=n(c),c.length!==t.length&&$e("Mismatched type converter count");for(var h=0;h<t.length;++h)Dt(t[h],c[h])}t.forEach(function(c){Ve[c]=e});var s=Array(e.length),f=[],m=0;e.forEach((c,h)=>{ue.hasOwnProperty(c)?s[h]=ue[c]:(f.push(c),we.hasOwnProperty(c)||(we[c]=[]),we[c].push(()=>{s[h]=ue[c],++m,m===f.length&&o(s)}))}),f.length===0&&o(s)}function Xe(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var qr=void 0;function it(t){for(var e="";Q[t];)e+=qr[Q[t++]];return e}var Pe=void 0;function Z(t){throw new Pe(t)}function Dt(t,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var o=e.name;if(t||Z('type "'+o+'" must have a positive integer typeid pointer'),ue.hasOwnProperty(t)){if(n.Vf)return;Z("Cannot register type '"+o+"' twice")}ue[t]=e,delete Ve[t],we.hasOwnProperty(t)&&(e=we[t],delete we[t],e.forEach(s=>s()))}function pr(t){Z(t.Ld.Xd.Rd.name+" instance already deleted")}var yr=!1;function Yr(){}function tn(t){--t.count.value,t.count.value===0&&(t.$d?t.fe.le(t.$d):t.Xd.Rd.le(t.Td))}function en(t,e,n){return e===n?t:n.ie===void 0?null:(t=en(t,e,n.ie),t===null?null:n.Jf(t))}var rn={},Ce=[];function mr(){for(;Ce.length;){var t=Ce.pop();t.Ld.Fe=!1,t.delete()}}var be=void 0,xe={};function Hn(t,e){for(e===void 0&&Z("ptr should not be undefined");t.ie;)e=t.Oe(e),t=t.ie;return xe[e]}function Qe(t,e){return e.Xd&&e.Td||$e("makeClassHandle requires ptr and ptrType"),!!e.fe!=!!e.$d&&$e("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Ee(Object.create(t,{Ld:{value:e}}))}function Ee(t){return typeof FinalizationRegistry>"u"?(Ee=e=>e,t):(yr=new FinalizationRegistry(e=>{tn(e.Ld)}),Ee=e=>{var n=e.Ld;return n.$d&&yr.register(e,{Ld:n},e),e},Yr=e=>{yr.unregister(e)},Ee(t))}function qt(){}function gr(t,e,n){if(t[e].Zd===void 0){var o=t[e];t[e]=function(){return t[e].Zd.hasOwnProperty(arguments.length)||Z("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].Zd+")!"),t[e].Zd[arguments.length].apply(this,arguments)},t[e].Zd=[],t[e].Zd[o.De]=o}}function vr(t,e,n){g.hasOwnProperty(t)?((n===void 0||g[t].Zd!==void 0&&g[t].Zd[n]!==void 0)&&Z("Cannot register public name '"+t+"' twice"),gr(g,t,t),g.hasOwnProperty(n)&&Z("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),g[t].Zd[n]=e):(g[t]=e,n!==void 0&&(g[t].tg=n))}function Vn(t,e,n,o,s,f,m,c){this.name=t,this.constructor=e,this.Ge=n,this.le=o,this.ie=s,this.Pf=f,this.Oe=m,this.Jf=c,this.bg=[]}function Ar(t,e,n){for(;e!==n;)e.Oe||Z("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.Oe(t),e=e.ie;return t}function $n(t,e){return e===null?(this.ff&&Z("null is not a valid "+this.name),0):(e.Ld||Z('Cannot pass "'+_r(e)+'" as a '+this.name),e.Ld.Td||Z("Cannot pass deleted object as a pointer of type "+this.name),Ar(e.Ld.Td,e.Ld.Xd.Rd,this.Rd))}function Xn(t,e){if(e===null){if(this.ff&&Z("null is not a valid "+this.name),this.Ue){var n=this.gf();return t!==null&&t.push(this.le,n),n}return 0}if(e.Ld||Z('Cannot pass "'+_r(e)+'" as a '+this.name),e.Ld.Td||Z("Cannot pass deleted object as a pointer of type "+this.name),!this.Te&&e.Ld.Xd.Te&&Z("Cannot convert argument of type "+(e.Ld.fe?e.Ld.fe.name:e.Ld.Xd.name)+" to parameter type "+this.name),n=Ar(e.Ld.Td,e.Ld.Xd.Rd,this.Rd),this.Ue)switch(e.Ld.$d===void 0&&Z("Passing raw pointer to smart pointer is illegal"),this.hg){case 0:e.Ld.fe===this?n=e.Ld.$d:Z("Cannot convert argument of type "+(e.Ld.fe?e.Ld.fe.name:e.Ld.Xd.name)+" to parameter type "+this.name);break;case 1:n=e.Ld.$d;break;case 2:if(e.Ld.fe===this)n=e.Ld.$d;else{var o=e.clone();n=this.cg(n,Ft(function(){o.delete()})),t!==null&&t.push(this.le,n)}break;default:Z("Unsupporting sharing policy")}return n}function Qn(t,e){return e===null?(this.ff&&Z("null is not a valid "+this.name),0):(e.Ld||Z('Cannot pass "'+_r(e)+'" as a '+this.name),e.Ld.Td||Z("Cannot pass deleted object as a pointer of type "+this.name),e.Ld.Xd.Te&&Z("Cannot convert argument of type "+e.Ld.Xd.name+" to parameter type "+this.name),Ar(e.Ld.Td,e.Ld.Xd.Rd,this.Rd))}function Nt(t,e,n,o,s,f,m,c,h,v,T){this.name=t,this.Rd=e,this.ff=n,this.Te=o,this.Ue=s,this.ag=f,this.hg=m,this.vf=c,this.gf=h,this.cg=v,this.le=T,s||e.ie!==void 0?this.toWireType=Xn:(this.toWireType=o?$n:Qn,this.ee=null)}function nn(t,e,n){g.hasOwnProperty(t)||$e("Replacing nonexistant public symbol"),g[t].Zd!==void 0&&n!==void 0?g[t].Zd[n]=e:(g[t]=e,g[t].De=n)}function Zn(t,e){var n=[];return function(){if(n.length=0,Object.assign(n,arguments),t.includes("j")){var o=g["dynCall_"+t];o=n&&n.length?o.apply(null,[e].concat(n)):o.call(null,e)}else o=ft(e).apply(null,n);return o}}function ht(t,e){t=it(t);var n=t.includes("j")?Zn(t,e):ft(e);return typeof n!="function"&&Z("unknown function pointer with signature "+t+": "+e),n}var on=void 0;function an(t){t=_n(t);var e=it(t);return Qt(t),e}function Be(t,e){function n(f){s[f]||ue[f]||(Ve[f]?Ve[f].forEach(n):(o.push(f),s[f]=!0))}var o=[],s={};throw e.forEach(n),new on(t+": "+o.map(an).join([", "]))}function Ze(t,e,n,o,s){var f=e.length;2>f&&Z("argTypes array size mismatch! Must at least get return value and 'this' types!");var m=e[1]!==null&&n!==null,c=!1;for(n=1;n<e.length;++n)if(e[n]!==null&&e[n].ee===void 0){c=!0;break}var h=e[0].name!=="void",v=f-2,T=Array(v),b=[],O=[];return function(){if(arguments.length!==v&&Z("function "+t+" called with "+arguments.length+" arguments, expected "+v+" args!"),O.length=0,b.length=m?2:1,b[0]=s,m){var P=e[1].toWireType(O,this);b[1]=P}for(var j=0;j<v;++j)T[j]=e[j+2].toWireType(O,arguments[j]),b.push(T[j]);if(j=o.apply(null,b),c)cr(O);else for(var N=m?1:2;N<e.length;N++){var H=N===1?P:T[N-2];e[N].ee!==null&&e[N].ee(H)}return P=h?e[0].fromWireType(j):void 0,P}}function Je(t,e){for(var n=[],o=0;o<t;o++)n.push(q[e+4*o>>2]);return n}var wr=[],Rt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Pr(t){4<t&&--Rt[t].hf===0&&(Rt[t]=void 0,wr.push(t))}var Mt=t=>(t||Z("Cannot use deleted val. handle = "+t),Rt[t].value),Ft=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=wr.length?wr.pop():Rt.length;return Rt[e]={hf:1,value:t},e}};function Jn(t,e,n){switch(e){case 0:return function(o){return this.fromWireType((n?Gt:Q)[o])};case 1:return function(o){return this.fromWireType((n?Kt:Ae)[o>>1])};case 2:return function(o){return this.fromWireType((n?R:q)[o>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Re(t,e){var n=ue[t];return n===void 0&&Z(e+" has unknown type "+an(t)),n}function _r(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function zn(t,e){switch(e){case 2:return function(n){return this.fromWireType(W[n>>2])};case 3:return function(n){return this.fromWireType(Dr[n>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Kn(t,e,n){switch(e){case 0:return n?function(o){return Gt[o]}:function(o){return Q[o]};case 1:return n?function(o){return Kt[o>>1]}:function(o){return Ae[o>>1]};case 2:return n?function(o){return R[o>>2]}:function(o){return q[o>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var qn={};function ze(t){var e=qn[t];return e===void 0?it(t):e}var Ke=[];function sn(){function t(e){e.$$$embind_global$$$=e;var n=typeof $$$embind_global$$$=="object"&&e.$$$embind_global$$$==e;return n||delete e.$$$embind_global$$$,n}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof Or=="object"&&t(Or)?$$$embind_global$$$=Or:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Yn(t){var e=Ke.length;return Ke.push(t),e}function ti(t,e){for(var n=Array(t),o=0;o<t;++o)n[o]=Re(q[e+4*o>>2],"parameter "+o);return n}var un=[];function ei(t){var e=Array(t+1);return function(n,o,s){e[0]=n;for(var f=0;f<t;++f){var m=Re(q[o+4*f>>2],"parameter "+f);e[f+1]=m.readValueFromPointer(s),s+=m.argPackAdvance}return n=new(n.bind.apply(n,e)),Ft(n)}}var ln={},fn;fn=vt?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now();function ri(t){var e=t.getExtension("ANGLE_instanced_arrays");e&&(t.vertexAttribDivisor=function(n,o){e.vertexAttribDivisorANGLE(n,o)},t.drawArraysInstanced=function(n,o,s,f){e.drawArraysInstancedANGLE(n,o,s,f)},t.drawElementsInstanced=function(n,o,s,f,m){e.drawElementsInstancedANGLE(n,o,s,f,m)})}function ni(t){var e=t.getExtension("OES_vertex_array_object");e&&(t.createVertexArray=function(){return e.createVertexArrayOES()},t.deleteVertexArray=function(n){e.deleteVertexArrayOES(n)},t.bindVertexArray=function(n){e.bindVertexArrayOES(n)},t.isVertexArray=function(n){return e.isVertexArrayOES(n)})}function ii(t){var e=t.getExtension("WEBGL_draw_buffers");e&&(t.drawBuffers=function(n,o){e.drawBuffersWEBGL(n,o)})}var cn=1,qe=[],Lt=[],Ye=[],Le=[],Tt=[],Ot=[],Yt=[],Ht=[],le=[],fe=[],dn={},hn={},pn=4;function Y(t){tr||(tr=t)}function _e(t){for(var e=cn++,n=t.length;n<e;n++)t[n]=null;return e}function oi(t,e){t.lf||(t.lf=t.getContext,t.getContext=function(o,s){return s=t.lf(o,s),o=="webgl"==s instanceof WebGLRenderingContext?s:null});var n=1<e.majorVersion?t.getContext("webgl2",e):t.getContext("webgl",e);return n?ai(n,e):0}function ai(t,e){var n=_e(Ht),o={Uf:n,attributes:e,version:e.majorVersion,ge:t};return t.canvas&&(t.canvas.yf=o),Ht[n]=o,(typeof e.Kf>"u"||e.Kf)&&si(o),n}function yn(t){return D=Ht[t],g.rg=A=D&&D.ge,!(t&&!A)}function si(t){if(t||(t=D),!t.Wf){t.Wf=!0;var e=t.ge;ri(e),ni(e),ii(e),e.qf=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),e.uf=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=t.version&&(e.rf=e.getExtension("EXT_disjoint_timer_query_webgl2")),(2>t.version||!e.rf)&&(e.rf=e.getExtension("EXT_disjoint_timer_query")),e.sg=e.getExtension("WEBGL_multi_draw"),(e.getSupportedExtensions()||[]).forEach(function(n){n.includes("lose_context")||n.includes("debug")||e.getExtension(n)})}}var D,tr,er=[];function ce(t,e,n,o){for(var s=0;s<t;s++){var f=A[n](),m=f&&_e(o);f?(f.name=m,o[m]=f):Y(1282),R[e+4*s>>2]=m}}function mn(t,e,n){if(e){var o=void 0;switch(t){case 36346:o=1;break;case 36344:n!=0&&n!=1&&Y(1280);return;case 34814:case 36345:o=0;break;case 34466:var s=A.getParameter(34467);o=s?s.length:0;break;case 33309:if(2>D.version){Y(1282);return}o=2*(A.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>D.version){Y(1280);return}o=t==33307?3:0}if(o===void 0)switch(s=A.getParameter(t),typeof s){case"number":o=s;break;case"boolean":o=s?1:0;break;case"string":Y(1280);return;case"object":if(s===null)switch(t){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:o=0;break;default:Y(1280);return}else{if(s instanceof Float32Array||s instanceof Uint32Array||s instanceof Int32Array||s instanceof Array){for(t=0;t<s.length;++t)switch(n){case 0:R[e+4*t>>2]=s[t];break;case 2:W[e+4*t>>2]=s[t];break;case 4:Gt[e+t>>0]=s[t]?1:0}return}try{o=s.name|0}catch(f){Y(1280),nt("GL_INVALID_ENUM in glGet"+n+"v: Unknown object returned from WebGL getParameter("+t+")! (error: "+f+")");return}}break;default:Y(1280),nt("GL_INVALID_ENUM in glGet"+n+"v: Native code calling glGet"+n+"v("+t+") and it returns "+s+" of type "+typeof s+"!");return}switch(n){case 1:n=o,q[e>>2]=n,q[e+4>>2]=(n-q[e>>2])/4294967296;break;case 0:R[e>>2]=o;break;case 2:W[e>>2]=o;break;case 4:Gt[e>>0]=o?1:0}}else Y(1281)}function Oe(t){var e=Et(t)+1,n=or(e);return xt(t,Q,n,e),n}function gn(t){return t.slice(-1)=="]"&&t.lastIndexOf("[")}function rr(t){return t-=5120,t==0?Gt:t==1?Q:t==2?Kt:t==4?R:t==6?W:t==5||t==28922||t==28520||t==30779||t==30782?q:Ae}function Sr(t,e,n,o,s){t=rr(t);var f=31-Math.clz32(t.BYTES_PER_ELEMENT),m=pn;return t.subarray(s>>f,s+o*(n*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1)*(1<<f)+m-1&-m)>>f)}function J(t){var e=A.Hf;if(e){var n=e.Ne[t];return typeof n=="number"&&(e.Ne[t]=n=A.getUniformLocation(e,e.wf[t]+(0<n?"["+n+"]":""))),n}Y(1282)}var te=[],ke=[],Mr={};function vn(){if(!Fr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ye||"./this.program"},e;for(e in Mr)Mr[e]===void 0?delete t[e]:t[e]=Mr[e];var n=[];for(e in t)n.push(e+"="+t[e]);Fr=n}return Fr}var Fr,ui=[null,[],[]];function nr(t){return t%4===0&&(t%100!==0||t%400===0)}var An=[31,29,31,30,31,30,31,31,30,31,30,31],wn=[31,28,31,30,31,30,31,31,30,31,30,31];function li(t,e,n,o){function s(P,j,N){for(P=typeof P=="number"?P.toString():P||"";P.length<j;)P=N[0]+P;return P}function f(P,j){return s(P,j,"0")}function m(P,j){function N(At){return 0>At?-1:0<At?1:0}var H;return(H=N(P.getFullYear()-j.getFullYear()))===0&&(H=N(P.getMonth()-j.getMonth()))===0&&(H=N(P.getDate()-j.getDate())),H}function c(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function h(P){var j=P.pe;for(P=new Date(new Date(P.qe+1900,0,1).getTime());0<j;){var N=P.getMonth(),H=(nr(P.getFullYear())?An:wn)[N];if(j>H-P.getDate())j-=H-P.getDate()+1,P.setDate(1),11>N?P.setMonth(N+1):(P.setMonth(0),P.setFullYear(P.getFullYear()+1));else{P.setDate(P.getDate()+j);break}}return N=new Date(P.getFullYear()+1,0,4),j=c(new Date(P.getFullYear(),0,4)),N=c(N),0>=m(j,P)?0>=m(N,P)?P.getFullYear()+1:P.getFullYear():P.getFullYear()-1}var v=R[o+40>>2];o={pg:R[o>>2],og:R[o+4>>2],Ye:R[o+8>>2],jf:R[o+12>>2],Ze:R[o+16>>2],qe:R[o+20>>2],je:R[o+24>>2],pe:R[o+28>>2],vg:R[o+32>>2],ng:R[o+36>>2],qg:v?ve(v):""},n=ve(n),v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var T in v)n=n.replace(new RegExp(T,"g"),v[T]);var b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),O="January February March April May June July August September October November December".split(" ");v={"%a":function(P){return b[P.je].substring(0,3)},"%A":function(P){return b[P.je]},"%b":function(P){return O[P.Ze].substring(0,3)},"%B":function(P){return O[P.Ze]},"%C":function(P){return f((P.qe+1900)/100|0,2)},"%d":function(P){return f(P.jf,2)},"%e":function(P){return s(P.jf,2," ")},"%g":function(P){return h(P).toString().substring(2)},"%G":function(P){return h(P)},"%H":function(P){return f(P.Ye,2)},"%I":function(P){return P=P.Ye,P==0?P=12:12<P&&(P-=12),f(P,2)},"%j":function(P){for(var j=0,N=0;N<=P.Ze-1;j+=(nr(P.qe+1900)?An:wn)[N++]);return f(P.jf+j,3)},"%m":function(P){return f(P.Ze+1,2)},"%M":function(P){return f(P.og,2)},"%n":function(){return`
`},"%p":function(P){return 0<=P.Ye&&12>P.Ye?"AM":"PM"},"%S":function(P){return f(P.pg,2)},"%t":function(){return"	"},"%u":function(P){return P.je||7},"%U":function(P){return f(Math.floor((P.pe+7-P.je)/7),2)},"%V":function(P){var j=Math.floor((P.pe+7-(P.je+6)%7)/7);if(2>=(P.je+371-P.pe-2)%7&&j++,j)j==53&&(N=(P.je+371-P.pe)%7,N==4||N==3&&nr(P.qe)||(j=1));else{j=52;var N=(P.je+7-P.pe-1)%7;(N==4||N==5&&nr(P.qe%400-1))&&j++}return f(j,2)},"%w":function(P){return P.je},"%W":function(P){return f(Math.floor((P.pe+7-(P.je+6)%7)/7),2)},"%y":function(P){return(P.qe+1900).toString().substring(2)},"%Y":function(P){return P.qe+1900},"%z":function(P){P=P.ng;var j=0<=P;return P=Math.abs(P)/60,(j?"+":"-")+("0000"+(P/60*100+P%60)).slice(-4)},"%Z":function(P){return P.qg},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0");for(T in v)n.includes(T)&&(n=n.replace(new RegExp(T,"g"),v[T](o)));return n=n.replace(/\0\0/g,"%"),T=di(n),T.length>e?0:(Gt.set(T,t),T.length-1)}Kr=g.InternalError=hr("InternalError");for(var Pn=Array(256),ir=0;256>ir;++ir)Pn[ir]=String.fromCharCode(ir);qr=Pn,Pe=g.BindingError=hr("BindingError"),qt.prototype.isAliasOf=function(t){if(!(this instanceof qt&&t instanceof qt))return!1;var e=this.Ld.Xd.Rd,n=this.Ld.Td,o=t.Ld.Xd.Rd;for(t=t.Ld.Td;e.ie;)n=e.Oe(n),e=e.ie;for(;o.ie;)t=o.Oe(t),o=o.ie;return e===o&&n===t},qt.prototype.clone=function(){if(this.Ld.Td||pr(this),this.Ld.Me)return this.Ld.count.value+=1,this;var t=Ee,e=Object,n=e.create,o=Object.getPrototypeOf(this),s=this.Ld;return t=t(n.call(e,o,{Ld:{value:{count:s.count,Fe:s.Fe,Me:s.Me,Td:s.Td,Xd:s.Xd,$d:s.$d,fe:s.fe}}})),t.Ld.count.value+=1,t.Ld.Fe=!1,t},qt.prototype.delete=function(){this.Ld.Td||pr(this),this.Ld.Fe&&!this.Ld.Me&&Z("Object already scheduled for deletion"),Yr(this),tn(this.Ld),this.Ld.Me||(this.Ld.$d=void 0,this.Ld.Td=void 0)},qt.prototype.isDeleted=function(){return!this.Ld.Td},qt.prototype.deleteLater=function(){return this.Ld.Td||pr(this),this.Ld.Fe&&!this.Ld.Me&&Z("Object already scheduled for deletion"),Ce.push(this),Ce.length===1&&be&&be(mr),this.Ld.Fe=!0,this},g.getInheritedInstanceCount=function(){return Object.keys(xe).length},g.getLiveInheritedInstances=function(){var t=[],e;for(e in xe)xe.hasOwnProperty(e)&&t.push(xe[e]);return t},g.flushPendingDeletes=mr,g.setDelayFunction=function(t){be=t,Ce.length&&be&&be(mr)},Nt.prototype.Qf=function(t){return this.vf&&(t=this.vf(t)),t},Nt.prototype.pf=function(t){this.le&&this.le(t)},Nt.prototype.argPackAdvance=8,Nt.prototype.readValueFromPointer=Te,Nt.prototype.deleteObject=function(t){t!==null&&t.delete()},Nt.prototype.fromWireType=function(t){function e(){return this.Ue?Qe(this.Rd.Ge,{Xd:this.ag,Td:n,fe:this,$d:t}):Qe(this.Rd.Ge,{Xd:this,Td:t})}var n=this.Qf(t);if(!n)return this.pf(t),null;var o=Hn(this.Rd,n);if(o!==void 0)return o.Ld.count.value===0?(o.Ld.Td=n,o.Ld.$d=t,o.clone()):(o=o.clone(),this.pf(t),o);if(o=this.Rd.Pf(n),o=rn[o],!o)return e.call(this);o=this.Te?o.Ff:o.pointerType;var s=en(n,this.Rd,o.Rd);return s===null?e.call(this):this.Ue?Qe(o.Rd.Ge,{Xd:o,Td:s,fe:this,$d:t}):Qe(o.Rd.Ge,{Xd:o,Td:s})},on=g.UnboundTypeError=hr("UnboundTypeError"),g.count_emval_handles=function(){for(var t=0,e=5;e<Rt.length;++e)Rt[e]!==void 0&&++t;return t},g.get_first_emval=function(){for(var t=5;t<Rt.length;++t)if(Rt[t]!==void 0)return Rt[t];return null};for(var A,Pt=0;32>Pt;++Pt)er.push(Array(Pt));var fi=new Float32Array(288);for(Pt=0;288>Pt;++Pt)te[Pt]=fi.subarray(0,Pt+1);var ci=new Int32Array(288);for(Pt=0;288>Pt;++Pt)ke[Pt]=ci.subarray(0,Pt+1);function di(t){var e=Array(Et(t)+1);return xt(t,e,0,e.length),e}var hi={U:function(){return 0},Bb:function(){},Db:function(){return 0},yb:function(){},zb:function(){},V:function(){},Ab:function(){},C:function(t){var e=He[t];delete He[t];var n=e.gf,o=e.le,s=e.sf,f=s.map(m=>m.Tf).concat(s.map(m=>m.fg));Bt([t],f,m=>{var c={};return s.forEach((h,v)=>{var T=m[v],b=h.Rf,O=h.Sf,P=m[v+s.length],j=h.eg,N=h.gg;c[h.Lf]={read:H=>T.fromWireType(b(O,H)),write:(H,At)=>{var Ct=[];j(N,H,P.toWireType(Ct,At)),cr(Ct)}}}),[{name:e.name,fromWireType:function(h){var v={},T;for(T in c)v[T]=c[T].read(h);return o(h),v},toWireType:function(h,v){for(var T in c)if(!(T in v))throw new TypeError('Missing field:  "'+T+'"');var b=n();for(T in c)c[T].write(b,v[T]);return h!==null&&h.push(o,b),b},argPackAdvance:8,readValueFromPointer:Te,ee:o}]})},qb:function(){},Hb:function(t,e,n,o,s){var f=Xe(n);e=it(e),Dt(t,{name:e,fromWireType:function(m){return!!m},toWireType:function(m,c){return c?o:s},argPackAdvance:8,readValueFromPointer:function(m){if(n===1)var c=Gt;else if(n===2)c=Kt;else if(n===4)c=R;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(c[m>>f])},ee:null})},q:function(t,e,n,o,s,f,m,c,h,v,T,b,O){T=it(T),f=ht(s,f),c&&(c=ht(m,c)),v&&(v=ht(h,v)),O=ht(b,O);var P=zr(T);vr(P,function(){Be("Cannot construct "+T+" due to unbound types",[o])}),Bt([t,e,n],o?[o]:[],function(j){if(j=j[0],o)var N=j.Rd,H=N.Ge;else H=qt.prototype;j=dr(P,function(){if(Object.getPrototypeOf(this)!==At)throw new Pe("Use 'new' to construct "+T);if(Ct.oe===void 0)throw new Pe(T+" has no accessible constructor");var Ie=Ct.oe[arguments.length];if(Ie===void 0)throw new Pe("Tried to invoke ctor of "+T+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Ct.oe).toString()+") parameters instead!");return Ie.apply(this,arguments)});var At=Object.create(H,{constructor:{value:j}});j.prototype=At;var Ct=new Vn(T,j,At,O,N,f,c,v);N=new Nt(T,Ct,!0,!1,!1),H=new Nt(T+"*",Ct,!1,!1,!1);var je=new Nt(T+" const*",Ct,!1,!0,!1);return rn[t]={pointerType:H,Ff:je},nn(P,j),[N,H,je]})},h:function(t,e,n,o,s,f,m){var c=Je(n,o);e=it(e),f=ht(s,f),Bt([],[t],function(h){function v(){Be("Cannot call "+T+" due to unbound types",c)}h=h[0];var T=h.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var b=h.Rd.constructor;return b[e]===void 0?(v.De=n-1,b[e]=v):(gr(b,e,T),b[e].Zd[n-1]=v),Bt([],c,function(O){return O=[O[0],null].concat(O.slice(1)),O=Ze(T,O,null,f,m),b[e].Zd===void 0?(O.De=n-1,b[e]=O):b[e].Zd[n-1]=O,[]}),[]})},B:function(t,e,n,o,s,f){0<e||Fe();var m=Je(e,n);s=ht(o,s),Bt([],[t],function(c){c=c[0];var h="constructor "+c.name;if(c.Rd.oe===void 0&&(c.Rd.oe=[]),c.Rd.oe[e-1]!==void 0)throw new Pe("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+c.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return c.Rd.oe[e-1]=()=>{Be("Cannot construct "+c.name+" due to unbound types",m)},Bt([],m,function(v){return v.splice(1,0,null),c.Rd.oe[e-1]=Ze(h,v,null,s,f),[]}),[]})},b:function(t,e,n,o,s,f,m,c){var h=Je(n,o);e=it(e),f=ht(s,f),Bt([],[t],function(v){function T(){Be("Cannot call "+b+" due to unbound types",h)}v=v[0];var b=v.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),c&&v.Rd.bg.push(e);var O=v.Rd.Ge,P=O[e];return P===void 0||P.Zd===void 0&&P.className!==v.name&&P.De===n-2?(T.De=n-2,T.className=v.name,O[e]=T):(gr(O,e,b),O[e].Zd[n-2]=T),Bt([],h,function(j){return j=Ze(b,j,v,f,m),O[e].Zd===void 0?(j.De=n-2,O[e]=j):O[e].Zd[n-2]=j,[]}),[]})},u:function(t,e,n){t=it(t),Bt([],[e],function(o){return o=o[0],g[t]=o.fromWireType(n),[]})},Gb:function(t,e){e=it(e),Dt(t,{name:e,fromWireType:function(n){var o=Mt(n);return Pr(n),o},toWireType:function(n,o){return Ft(o)},argPackAdvance:8,readValueFromPointer:Te,ee:null})},n:function(t,e,n,o){function s(){}n=Xe(n),e=it(e),s.values={},Dt(t,{name:e,constructor:s,fromWireType:function(f){return this.constructor.values[f]},toWireType:function(f,m){return m.value},argPackAdvance:8,readValueFromPointer:Jn(e,n,o),ee:null}),vr(e,s)},e:function(t,e,n){var o=Re(t,"enum");e=it(e),t=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:n},constructor:{value:dr(o.name+"_"+e,function(){})}}),t.values[n]=o,t[e]=o},Y:function(t,e,n){n=Xe(n),e=it(e),Dt(t,{name:e,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:zn(e,n),ee:null})},y:function(t,e,n,o,s,f){var m=Je(e,n);t=it(t),s=ht(o,s),vr(t,function(){Be("Cannot call "+t+" due to unbound types",m)},e-1),Bt([],m,function(c){return c=[c[0],null].concat(c.slice(1)),nn(t,Ze(t,c,null,s,f),e-1),[]})},E:function(t,e,n,o,s){e=it(e),s===-1&&(s=4294967295),s=Xe(n);var f=c=>c;if(o===0){var m=32-8*n;f=c=>c<<m>>>m}n=e.includes("unsigned")?function(c,h){return h>>>0}:function(c,h){return h},Dt(t,{name:e,fromWireType:f,toWireType:n,argPackAdvance:8,readValueFromPointer:Kn(e,s,o!==0),ee:null})},v:function(t,e,n){function o(f){f>>=2;var m=q;return new s(lr,m[f+1],m[f])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];n=it(n),Dt(t,{name:n,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{Vf:!0})},t:function(t,e,n,o,s,f,m,c,h,v,T,b){n=it(n),f=ht(s,f),c=ht(m,c),v=ht(h,v),b=ht(T,b),Bt([t],[e],function(O){return O=O[0],[new Nt(n,O.Rd,!1,!1,!0,O,o,f,c,v,b)]})},X:function(t,e){e=it(e);var n=e==="std::string";Dt(t,{name:e,fromWireType:function(o){var s=q[o>>2],f=o+4;if(n)for(var m=f,c=0;c<=s;++c){var h=f+c;if(c==s||Q[h]==0){if(m=ve(m,h-m),v===void 0)var v=m;else v+=String.fromCharCode(0),v+=m;m=h+1}}else{for(v=Array(s),c=0;c<s;++c)v[c]=String.fromCharCode(Q[f+c]);v=v.join("")}return Qt(o),v},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||Z("Cannot pass non-string to std::string");var m=n&&f?Et(s):s.length,c=or(4+m+1),h=c+4;if(q[c>>2]=m,n&&f)xt(s,Q,h,m+1);else if(f)for(f=0;f<m;++f){var v=s.charCodeAt(f);255<v&&(Qt(h),Z("String has UTF-16 code units that do not fit in 8 bits")),Q[h+f]=v}else for(f=0;f<m;++f)Q[h+f]=s[f];return o!==null&&o.push(Qt,c),c},argPackAdvance:8,readValueFromPointer:Te,ee:function(o){Qt(o)}})},P:function(t,e,n){if(n=it(n),e===2)var o=kn,s=jn,f=In,m=()=>Ae,c=1;else e===4&&(o=Wn,s=Un,f=Gn,m=()=>q,c=2);Dt(t,{name:n,fromWireType:function(h){for(var v=q[h>>2],T=m(),b,O=h+4,P=0;P<=v;++P){var j=h+4+P*e;(P==v||T[j>>c]==0)&&(O=o(O,j-O),b===void 0?b=O:(b+=String.fromCharCode(0),b+=O),O=j+e)}return Qt(h),b},toWireType:function(h,v){typeof v!="string"&&Z("Cannot pass non-string to C++ string type "+n);var T=f(v),b=or(4+T+e);return q[b>>2]=T>>c,s(v,b+4,T+e),h!==null&&h.push(Qt,b),b},argPackAdvance:8,readValueFromPointer:Te,ee:function(h){Qt(h)}})},D:function(t,e,n,o,s,f){He[t]={name:it(e),gf:ht(n,o),le:ht(s,f),sf:[]}},g:function(t,e,n,o,s,f,m,c,h,v){He[t].sf.push({Lf:it(e),Tf:n,Rf:ht(o,s),Sf:f,fg:m,eg:ht(c,h),gg:v})},Ib:function(t,e){e=it(e),Dt(t,{Xf:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:function(){return!0},sb:function(){throw 1/0},I:function(t,e,n){t=Mt(t),e=Re(e,"emval::as");var o=[],s=Ft(o);return q[n>>2]=s,e.toWireType(o,t)},$:function(t,e,n,o,s){t=Ke[t],e=Mt(e),n=ze(n);var f=[];return q[o>>2]=Ft(f),t(e,n,f,s)},A:function(t,e,n,o){t=Ke[t],e=Mt(e),n=ze(n),t(e,n,null,o)},f:Pr,M:function(t){return t===0?Ft(sn()):(t=ze(t),Ft(sn()[t]))},z:function(t,e){var n=ti(t,e),o=n[0];e=o.name+"_$"+n.slice(1).map(function(m){return m.name}).join("_")+"$";var s=un[e];if(s!==void 0)return s;var f=Array(t-1);return s=Yn((m,c,h,v)=>{for(var T=0,b=0;b<t-1;++b)f[b]=n[b+1].readValueFromPointer(v+T),T+=n[b+1].argPackAdvance;for(m=m[c].apply(m,f),b=0;b<t-1;++b)n[b+1].If&&n[b+1].If(f[b]);if(!o.Xf)return o.toWireType(h,m)}),un[e]=s},H:function(t,e){return t=Mt(t),e=Mt(e),Ft(t[e])},r:function(t){4<t&&(Rt[t].hf+=1)},L:function(t,e,n,o){t=Mt(t);var s=ln[e];return s||(s=ei(e),ln[e]=s),s(t,n,o)},J:function(){return Ft([])},i:function(t){return Ft(ze(t))},G:function(){return Ft({})},mb:function(t){return t=Mt(t),!t},F:function(t){var e=Mt(t);cr(e),Pr(t)},m:function(t,e,n){t=Mt(t),e=Mt(e),n=Mt(n),t[e]=n},j:function(t,e){return t=Re(t,"_emval_take_value"),t=t.readValueFromPointer(e),Ft(t)},ub:function(){return-52},vb:function(){},a:function(){Fe("")},Eb:fn,bd:function(t){A.activeTexture(t)},cd:function(t,e){A.attachShader(Lt[t],Ot[e])},ca:function(t,e,n){A.bindAttribLocation(Lt[t],e,ve(n))},da:function(t,e){t==35051?A.df=e:t==35052&&(A.Ee=e),A.bindBuffer(t,qe[e])},ba:function(t,e){A.bindFramebuffer(t,Ye[e])},fc:function(t,e){A.bindRenderbuffer(t,Le[e])},Rb:function(t,e){A.bindSampler(t,le[e])},ea:function(t,e){A.bindTexture(t,Tt[e])},Cc:function(t){A.bindVertexArray(Yt[t])},xc:function(t){A.bindVertexArray(Yt[t])},fa:function(t,e,n,o){A.blendColor(t,e,n,o)},ga:function(t){A.blendEquation(t)},ha:function(t,e){A.blendFunc(t,e)},$b:function(t,e,n,o,s,f,m,c,h,v){A.blitFramebuffer(t,e,n,o,s,f,m,c,h,v)},ia:function(t,e,n,o){2<=D.version?n&&e?A.bufferData(t,Q,o,n,e):A.bufferData(t,e,o):A.bufferData(t,n?Q.subarray(n,n+e):e,o)},ja:function(t,e,n,o){2<=D.version?n&&A.bufferSubData(t,e,Q,o,n):A.bufferSubData(t,e,Q.subarray(o,o+n))},gc:function(t){return A.checkFramebufferStatus(t)},S:function(t){A.clear(t)},aa:function(t,e,n,o){A.clearColor(t,e,n,o)},W:function(t){A.clearStencil(t)},kb:function(t,e,n,o){return A.clientWaitSync(fe[t],e,(n>>>0)+4294967296*o)},ka:function(t,e,n,o){A.colorMask(!!t,!!e,!!n,!!o)},la:function(t){A.compileShader(Ot[t])},ma:function(t,e,n,o,s,f,m,c){2<=D.version?A.Ee||!m?A.compressedTexImage2D(t,e,n,o,s,f,m,c):A.compressedTexImage2D(t,e,n,o,s,f,Q,c,m):A.compressedTexImage2D(t,e,n,o,s,f,c?Q.subarray(c,c+m):null)},na:function(t,e,n,o,s,f,m,c,h){2<=D.version?A.Ee||!c?A.compressedTexSubImage2D(t,e,n,o,s,f,m,c,h):A.compressedTexSubImage2D(t,e,n,o,s,f,m,Q,h,c):A.compressedTexSubImage2D(t,e,n,o,s,f,m,h?Q.subarray(h,h+c):null)},Zb:function(t,e,n,o,s){A.copyBufferSubData(t,e,n,o,s)},oa:function(t,e,n,o,s,f,m,c){A.copyTexSubImage2D(t,e,n,o,s,f,m,c)},pa:function(){var t=_e(Lt),e=A.createProgram();return e.name=t,e.Xe=e.Ve=e.We=0,e.kf=1,Lt[t]=e,t},qa:function(t){var e=_e(Ot);return Ot[e]=A.createShader(t),e},ra:function(t){A.cullFace(t)},sa:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2],s=qe[o];s&&(A.deleteBuffer(s),s.name=0,qe[o]=null,o==A.df&&(A.df=0),o==A.Ee&&(A.Ee=0))}},hc:function(t,e){for(var n=0;n<t;++n){var o=R[e+4*n>>2],s=Ye[o];s&&(A.deleteFramebuffer(s),s.name=0,Ye[o]=null)}},ta:function(t){if(t){var e=Lt[t];e?(A.deleteProgram(e),e.name=0,Lt[t]=null):Y(1281)}},ic:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2],s=Le[o];s&&(A.deleteRenderbuffer(s),s.name=0,Le[o]=null)}},Sb:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2],s=le[o];s&&(A.deleteSampler(s),s.name=0,le[o]=null)}},ua:function(t){if(t){var e=Ot[t];e?(A.deleteShader(e),Ot[t]=null):Y(1281)}},_b:function(t){if(t){var e=fe[t];e?(A.deleteSync(e),e.name=0,fe[t]=null):Y(1281)}},va:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2],s=Tt[o];s&&(A.deleteTexture(s),s.name=0,Tt[o]=null)}},Dc:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2];A.deleteVertexArray(Yt[o]),Yt[o]=null}},yc:function(t,e){for(var n=0;n<t;n++){var o=R[e+4*n>>2];A.deleteVertexArray(Yt[o]),Yt[o]=null}},wa:function(t){A.depthMask(!!t)},xa:function(t){A.disable(t)},ya:function(t){A.disableVertexAttribArray(t)},za:function(t,e,n){A.drawArrays(t,e,n)},Ac:function(t,e,n,o){A.drawArraysInstanced(t,e,n,o)},vc:function(t,e,n,o,s){A.qf.drawArraysInstancedBaseInstanceWEBGL(t,e,n,o,s)},tc:function(t,e){for(var n=er[t],o=0;o<t;o++)n[o]=R[e+4*o>>2];A.drawBuffers(n)},Aa:function(t,e,n,o){A.drawElements(t,e,n,o)},Bc:function(t,e,n,o,s){A.drawElementsInstanced(t,e,n,o,s)},wc:function(t,e,n,o,s,f,m){A.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(t,e,n,o,s,f,m)},nc:function(t,e,n,o,s,f){A.drawElements(t,o,s,f)},Ba:function(t){A.enable(t)},Ca:function(t){A.enableVertexAttribArray(t)},Xb:function(t,e){return(t=A.fenceSync(t,e))?(e=_e(fe),t.name=e,fe[e]=t,e):0},Da:function(){A.finish()},Ea:function(){A.flush()},jc:function(t,e,n,o){A.framebufferRenderbuffer(t,e,n,Le[o])},kc:function(t,e,n,o,s){A.framebufferTexture2D(t,e,n,Tt[o],s)},Fa:function(t){A.frontFace(t)},Ga:function(t,e){ce(t,e,"createBuffer",qe)},lc:function(t,e){ce(t,e,"createFramebuffer",Ye)},mc:function(t,e){ce(t,e,"createRenderbuffer",Le)},Tb:function(t,e){ce(t,e,"createSampler",le)},Ha:function(t,e){ce(t,e,"createTexture",Tt)},Ec:function(t,e){ce(t,e,"createVertexArray",Yt)},zc:function(t,e){ce(t,e,"createVertexArray",Yt)},bc:function(t){A.generateMipmap(t)},Ia:function(t,e,n){n?R[n>>2]=A.getBufferParameter(t,e):Y(1281)},Ja:function(){var t=A.getError()||tr;return tr=0,t},Ka:function(t,e){mn(t,e,2)},cc:function(t,e,n,o){t=A.getFramebufferAttachmentParameter(t,e,n),(t instanceof WebGLRenderbuffer||t instanceof WebGLTexture)&&(t=t.name|0),R[o>>2]=t},N:function(t,e){mn(t,e,0)},La:function(t,e,n,o){t=A.getProgramInfoLog(Lt[t]),t===null&&(t="(unknown error)"),e=0<e&&o?xt(t,Q,o,e):0,n&&(R[n>>2]=e)},Ma:function(t,e,n){if(n)if(t>=cn)Y(1281);else if(t=Lt[t],e==35716)t=A.getProgramInfoLog(t),t===null&&(t="(unknown error)"),R[n>>2]=t.length+1;else if(e==35719){if(!t.Xe)for(e=0;e<A.getProgramParameter(t,35718);++e)t.Xe=Math.max(t.Xe,A.getActiveUniform(t,e).name.length+1);R[n>>2]=t.Xe}else if(e==35722){if(!t.Ve)for(e=0;e<A.getProgramParameter(t,35721);++e)t.Ve=Math.max(t.Ve,A.getActiveAttrib(t,e).name.length+1);R[n>>2]=t.Ve}else if(e==35381){if(!t.We)for(e=0;e<A.getProgramParameter(t,35382);++e)t.We=Math.max(t.We,A.getActiveUniformBlockName(t,e).length+1);R[n>>2]=t.We}else R[n>>2]=A.getProgramParameter(t,e);else Y(1281)},dc:function(t,e,n){n?R[n>>2]=A.getRenderbufferParameter(t,e):Y(1281)},Na:function(t,e,n,o){t=A.getShaderInfoLog(Ot[t]),t===null&&(t="(unknown error)"),e=0<e&&o?xt(t,Q,o,e):0,n&&(R[n>>2]=e)},Ob:function(t,e,n,o){t=A.getShaderPrecisionFormat(t,e),R[n>>2]=t.rangeMin,R[n+4>>2]=t.rangeMax,R[o>>2]=t.precision},Oa:function(t,e,n){n?e==35716?(t=A.getShaderInfoLog(Ot[t]),t===null&&(t="(unknown error)"),R[n>>2]=t?t.length+1:0):e==35720?(t=A.getShaderSource(Ot[t]),R[n>>2]=t?t.length+1:0):R[n>>2]=A.getShaderParameter(Ot[t],e):Y(1281)},R:function(t){var e=dn[t];if(!e){switch(t){case 7939:e=A.getSupportedExtensions()||[],e=e.concat(e.map(function(o){return"GL_"+o})),e=Oe(e.join(" "));break;case 7936:case 7937:case 37445:case 37446:(e=A.getParameter(t))||Y(1280),e=e&&Oe(e);break;case 7938:e=A.getParameter(7938),e=2<=D.version?"OpenGL ES 3.0 ("+e+")":"OpenGL ES 2.0 ("+e+")",e=Oe(e);break;case 35724:e=A.getParameter(35724);var n=e.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);n!==null&&(n[1].length==3&&(n[1]+="0"),e="OpenGL ES GLSL ES "+n[1]+" ("+e+")"),e=Oe(e);break;default:Y(1280)}dn[t]=e}return e},jb:function(t,e){if(2>D.version)return Y(1282),0;var n=hn[t];if(n)return 0>e||e>=n.length?(Y(1281),0):n[e];switch(t){case 7939:return n=A.getSupportedExtensions()||[],n=n.concat(n.map(function(o){return"GL_"+o})),n=n.map(function(o){return Oe(o)}),n=hn[t]=n,0>e||e>=n.length?(Y(1281),0):n[e];default:return Y(1280),0}},Pa:function(t,e){if(e=ve(e),t=Lt[t]){var n=t,o=n.Ne,s=n.xf,f;if(!o)for(n.Ne=o={},n.wf={},f=0;f<A.getProgramParameter(n,35718);++f){var m=A.getActiveUniform(n,f),c=m.name;m=m.size;var h=gn(c);h=0<h?c.slice(0,h):c;var v=n.kf;for(n.kf+=m,s[h]=[m,v],c=0;c<m;++c)o[v]=c,n.wf[v++]=h}if(n=t.Ne,o=0,s=e,f=gn(e),0<f&&(o=parseInt(e.slice(f+1))>>>0,s=e.slice(0,f)),(s=t.xf[s])&&o<s[0]&&(o+=s[1],n[o]=n[o]||A.getUniformLocation(t,e)))return o}else Y(1281);return-1},Pb:function(t,e,n){for(var o=er[e],s=0;s<e;s++)o[s]=R[n+4*s>>2];A.invalidateFramebuffer(t,o)},Qb:function(t,e,n,o,s,f,m){for(var c=er[e],h=0;h<e;h++)c[h]=R[n+4*h>>2];A.invalidateSubFramebuffer(t,c,o,s,f,m)},Yb:function(t){return A.isSync(fe[t])},Qa:function(t){return(t=Tt[t])?A.isTexture(t):0},Ra:function(t){A.lineWidth(t)},Sa:function(t){t=Lt[t],A.linkProgram(t),t.Ne=0,t.xf={}},rc:function(t,e,n,o,s,f){A.uf.multiDrawArraysInstancedBaseInstanceWEBGL(t,R,e>>2,R,n>>2,R,o>>2,q,s>>2,f)},sc:function(t,e,n,o,s,f,m,c){A.uf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(t,R,e>>2,n,R,o>>2,R,s>>2,R,f>>2,q,m>>2,c)},Ta:function(t,e){t==3317&&(pn=e),A.pixelStorei(t,e)},uc:function(t){A.readBuffer(t)},Ua:function(t,e,n,o,s,f,m){if(2<=D.version)if(A.df)A.readPixels(t,e,n,o,s,f,m);else{var c=rr(f);A.readPixels(t,e,n,o,s,f,c,m>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else(m=Sr(f,s,n,o,m))?A.readPixels(t,e,n,o,s,f,m):Y(1280)},ec:function(t,e,n,o){A.renderbufferStorage(t,e,n,o)},ac:function(t,e,n,o,s){A.renderbufferStorageMultisample(t,e,n,o,s)},Ub:function(t,e,n){A.samplerParameterf(le[t],e,n)},Vb:function(t,e,n){A.samplerParameteri(le[t],e,n)},Wb:function(t,e,n){A.samplerParameteri(le[t],e,R[n>>2])},Va:function(t,e,n,o){A.scissor(t,e,n,o)},Wa:function(t,e,n,o){for(var s="",f=0;f<e;++f){var m=o?R[o+4*f>>2]:-1;s+=ve(R[n+4*f>>2],0>m?void 0:m)}A.shaderSource(Ot[t],s)},Xa:function(t,e,n){A.stencilFunc(t,e,n)},Ya:function(t,e,n,o){A.stencilFuncSeparate(t,e,n,o)},Za:function(t){A.stencilMask(t)},_a:function(t,e){A.stencilMaskSeparate(t,e)},$a:function(t,e,n){A.stencilOp(t,e,n)},ab:function(t,e,n,o){A.stencilOpSeparate(t,e,n,o)},bb:function(t,e,n,o,s,f,m,c,h){if(2<=D.version)if(A.Ee)A.texImage2D(t,e,n,o,s,f,m,c,h);else if(h){var v=rr(c);A.texImage2D(t,e,n,o,s,f,m,c,v,h>>31-Math.clz32(v.BYTES_PER_ELEMENT))}else A.texImage2D(t,e,n,o,s,f,m,c,null);else A.texImage2D(t,e,n,o,s,f,m,c,h?Sr(c,m,o,s,h):null)},cb:function(t,e,n){A.texParameterf(t,e,n)},db:function(t,e,n){A.texParameterf(t,e,W[n>>2])},eb:function(t,e,n){A.texParameteri(t,e,n)},fb:function(t,e,n){A.texParameteri(t,e,R[n>>2])},oc:function(t,e,n,o,s){A.texStorage2D(t,e,n,o,s)},gb:function(t,e,n,o,s,f,m,c,h){if(2<=D.version)if(A.Ee)A.texSubImage2D(t,e,n,o,s,f,m,c,h);else if(h){var v=rr(c);A.texSubImage2D(t,e,n,o,s,f,m,c,v,h>>31-Math.clz32(v.BYTES_PER_ELEMENT))}else A.texSubImage2D(t,e,n,o,s,f,m,c,null);else v=null,h&&(v=Sr(c,m,s,f,h)),A.texSubImage2D(t,e,n,o,s,f,m,c,v)},hb:function(t,e){A.uniform1f(J(t),e)},ib:function(t,e,n){if(2<=D.version)e&&A.uniform1fv(J(t),W,n>>2,e);else{if(288>=e)for(var o=te[e-1],s=0;s<e;++s)o[s]=W[n+4*s>>2];else o=W.subarray(n>>2,n+4*e>>2);A.uniform1fv(J(t),o)}},Zc:function(t,e){A.uniform1i(J(t),e)},_c:function(t,e,n){if(2<=D.version)e&&A.uniform1iv(J(t),R,n>>2,e);else{if(288>=e)for(var o=ke[e-1],s=0;s<e;++s)o[s]=R[n+4*s>>2];else o=R.subarray(n>>2,n+4*e>>2);A.uniform1iv(J(t),o)}},$c:function(t,e,n){A.uniform2f(J(t),e,n)},ad:function(t,e,n){if(2<=D.version)e&&A.uniform2fv(J(t),W,n>>2,2*e);else{if(144>=e)for(var o=te[2*e-1],s=0;s<2*e;s+=2)o[s]=W[n+4*s>>2],o[s+1]=W[n+(4*s+4)>>2];else o=W.subarray(n>>2,n+8*e>>2);A.uniform2fv(J(t),o)}},Yc:function(t,e,n){A.uniform2i(J(t),e,n)},Xc:function(t,e,n){if(2<=D.version)e&&A.uniform2iv(J(t),R,n>>2,2*e);else{if(144>=e)for(var o=ke[2*e-1],s=0;s<2*e;s+=2)o[s]=R[n+4*s>>2],o[s+1]=R[n+(4*s+4)>>2];else o=R.subarray(n>>2,n+8*e>>2);A.uniform2iv(J(t),o)}},Wc:function(t,e,n,o){A.uniform3f(J(t),e,n,o)},Vc:function(t,e,n){if(2<=D.version)e&&A.uniform3fv(J(t),W,n>>2,3*e);else{if(96>=e)for(var o=te[3*e-1],s=0;s<3*e;s+=3)o[s]=W[n+4*s>>2],o[s+1]=W[n+(4*s+4)>>2],o[s+2]=W[n+(4*s+8)>>2];else o=W.subarray(n>>2,n+12*e>>2);A.uniform3fv(J(t),o)}},Uc:function(t,e,n,o){A.uniform3i(J(t),e,n,o)},Tc:function(t,e,n){if(2<=D.version)e&&A.uniform3iv(J(t),R,n>>2,3*e);else{if(96>=e)for(var o=ke[3*e-1],s=0;s<3*e;s+=3)o[s]=R[n+4*s>>2],o[s+1]=R[n+(4*s+4)>>2],o[s+2]=R[n+(4*s+8)>>2];else o=R.subarray(n>>2,n+12*e>>2);A.uniform3iv(J(t),o)}},Sc:function(t,e,n,o,s){A.uniform4f(J(t),e,n,o,s)},Rc:function(t,e,n){if(2<=D.version)e&&A.uniform4fv(J(t),W,n>>2,4*e);else{if(72>=e){var o=te[4*e-1],s=W;n>>=2;for(var f=0;f<4*e;f+=4){var m=n+f;o[f]=s[m],o[f+1]=s[m+1],o[f+2]=s[m+2],o[f+3]=s[m+3]}}else o=W.subarray(n>>2,n+16*e>>2);A.uniform4fv(J(t),o)}},Fc:function(t,e,n,o,s){A.uniform4i(J(t),e,n,o,s)},Gc:function(t,e,n){if(2<=D.version)e&&A.uniform4iv(J(t),R,n>>2,4*e);else{if(72>=e)for(var o=ke[4*e-1],s=0;s<4*e;s+=4)o[s]=R[n+4*s>>2],o[s+1]=R[n+(4*s+4)>>2],o[s+2]=R[n+(4*s+8)>>2],o[s+3]=R[n+(4*s+12)>>2];else o=R.subarray(n>>2,n+16*e>>2);A.uniform4iv(J(t),o)}},Hc:function(t,e,n,o){if(2<=D.version)e&&A.uniformMatrix2fv(J(t),!!n,W,o>>2,4*e);else{if(72>=e)for(var s=te[4*e-1],f=0;f<4*e;f+=4)s[f]=W[o+4*f>>2],s[f+1]=W[o+(4*f+4)>>2],s[f+2]=W[o+(4*f+8)>>2],s[f+3]=W[o+(4*f+12)>>2];else s=W.subarray(o>>2,o+16*e>>2);A.uniformMatrix2fv(J(t),!!n,s)}},Ic:function(t,e,n,o){if(2<=D.version)e&&A.uniformMatrix3fv(J(t),!!n,W,o>>2,9*e);else{if(32>=e)for(var s=te[9*e-1],f=0;f<9*e;f+=9)s[f]=W[o+4*f>>2],s[f+1]=W[o+(4*f+4)>>2],s[f+2]=W[o+(4*f+8)>>2],s[f+3]=W[o+(4*f+12)>>2],s[f+4]=W[o+(4*f+16)>>2],s[f+5]=W[o+(4*f+20)>>2],s[f+6]=W[o+(4*f+24)>>2],s[f+7]=W[o+(4*f+28)>>2],s[f+8]=W[o+(4*f+32)>>2];else s=W.subarray(o>>2,o+36*e>>2);A.uniformMatrix3fv(J(t),!!n,s)}},Jc:function(t,e,n,o){if(2<=D.version)e&&A.uniformMatrix4fv(J(t),!!n,W,o>>2,16*e);else{if(18>=e){var s=te[16*e-1],f=W;o>>=2;for(var m=0;m<16*e;m+=16){var c=o+m;s[m]=f[c],s[m+1]=f[c+1],s[m+2]=f[c+2],s[m+3]=f[c+3],s[m+4]=f[c+4],s[m+5]=f[c+5],s[m+6]=f[c+6],s[m+7]=f[c+7],s[m+8]=f[c+8],s[m+9]=f[c+9],s[m+10]=f[c+10],s[m+11]=f[c+11],s[m+12]=f[c+12],s[m+13]=f[c+13],s[m+14]=f[c+14],s[m+15]=f[c+15]}}else s=W.subarray(o>>2,o+64*e>>2);A.uniformMatrix4fv(J(t),!!n,s)}},Kc:function(t){t=Lt[t],A.useProgram(t),A.Hf=t},Lc:function(t,e){A.vertexAttrib1f(t,e)},Mc:function(t,e){A.vertexAttrib2f(t,W[e>>2],W[e+4>>2])},Nc:function(t,e){A.vertexAttrib3f(t,W[e>>2],W[e+4>>2],W[e+8>>2])},Oc:function(t,e){A.vertexAttrib4f(t,W[e>>2],W[e+4>>2],W[e+8>>2],W[e+12>>2])},pc:function(t,e){A.vertexAttribDivisor(t,e)},qc:function(t,e,n,o,s){A.vertexAttribIPointer(t,e,n,o,s)},Pc:function(t,e,n,o,s,f){A.vertexAttribPointer(t,e,n,!!o,s,f)},Qc:function(t,e,n,o){A.viewport(t,e,n,o)},lb:function(t,e,n,o){A.waitSync(fe[t],e,(n>>>0)+4294967296*o)},tb:function(t){var e=Q.length;if(t>>>=0,2147483648<t)return!1;for(var n=1;4>=n;n*=2){var o=e*(1+.2/n);o=Math.min(o,t+100663296);var s=Math;o=Math.max(t,o),s=s.min.call(s,2147483648,o+(65536-o%65536)%65536);t:{try{Xt.grow(s-lr.byteLength+65535>>>16),Nr();var f=1;break t}catch{}f=void 0}if(f)return!0}return!1},nb:function(){return D?D.Uf:0},wb:function(t,e){var n=0;return vn().forEach(function(o,s){var f=e+n;for(s=q[t+4*s>>2]=f,f=0;f<o.length;++f)Gt[s++>>0]=o.charCodeAt(f);Gt[s>>0]=0,n+=o.length+1}),0},xb:function(t,e){var n=vn();q[t>>2]=n.length;var o=0;return n.forEach(function(s){o+=s.length+1}),q[e>>2]=o,0},Jb:function(t){Ut||(g.onExit&&g.onExit(t),st=!0),me(t,new Sn(t))},O:function(){return 52},ob:function(){return 52},Cb:function(){return 52},pb:function(){return 70},T:function(t,e,n,o){for(var s=0,f=0;f<n;f++){var m=q[e>>2],c=q[e+4>>2];e+=8;for(var h=0;h<c;h++){var v=Q[m+h],T=ui[t];v===0||v===10?((t===1?Ne:nt)(ae(T,0)),T.length=0):T.push(v)}s+=c}return q[o>>2]=s,0},c:function(){return zt},k:yi,o:_i,l:pi,K:Mi,Lb:Fi,_:Ti,Z:bi,Q:Ai,p:Pi,x:vi,s:gi,w:wi,Kb:Ci,Mb:Si,Nb:mi,d:function(t){zt=t},rb:function(t,e,n,o){return li(t,e,n,o)}};(function(){function t(s){g.asm=s.exports,Xt=g.asm.dd,Nr(),Hr=g.asm.fd,$r.unshift(g.asm.ed),se--,g.monitorRunDependencies&&g.monitorRunDependencies(se),se==0&&Me&&(s=Me,Me=null,s())}function e(s){t(s.instance)}function n(s){return Nn().then(function(f){return WebAssembly.instantiate(f,o)}).then(function(f){return f}).then(s,function(f){nt("failed to asynchronously prepare wasm: "+f),Fe(f)})}var o={a:hi};if(se++,g.monitorRunDependencies&&g.monitorRunDependencies(se),g.instantiateWasm)try{return g.instantiateWasm(o,t)}catch(s){return nt("Module.instantiateWasm callback failed with error: "+s),!1}return function(){return Wt||typeof WebAssembly.instantiateStreaming!="function"||Qr()||St.startsWith("file://")||vt||typeof fetch!="function"?n(e):fetch(St,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,o).then(e,function(f){return nt("wasm streaming compile failed: "+f),nt("falling back to ArrayBuffer instantiation"),n(e)})})}().catch(dt),{}})(),g.___wasm_call_ctors=function(){return(g.___wasm_call_ctors=g.asm.ed).apply(null,arguments)};var Qt=g._free=function(){return(Qt=g._free=g.asm.gd).apply(null,arguments)},or=g._malloc=function(){return(or=g._malloc=g.asm.hd).apply(null,arguments)},_n=g.___getTypeName=function(){return(_n=g.___getTypeName=g.asm.id).apply(null,arguments)};g.___embind_register_native_and_builtin_types=function(){return(g.___embind_register_native_and_builtin_types=g.asm.jd).apply(null,arguments)};var pt=g._setThrew=function(){return(pt=g._setThrew=g.asm.kd).apply(null,arguments)},yt=g.stackSave=function(){return(yt=g.stackSave=g.asm.ld).apply(null,arguments)},mt=g.stackRestore=function(){return(mt=g.stackRestore=g.asm.md).apply(null,arguments)};g.dynCall_viji=function(){return(g.dynCall_viji=g.asm.nd).apply(null,arguments)},g.dynCall_vijiii=function(){return(g.dynCall_vijiii=g.asm.od).apply(null,arguments)},g.dynCall_viiiiij=function(){return(g.dynCall_viiiiij=g.asm.pd).apply(null,arguments)},g.dynCall_jiiiijiiiii=function(){return(g.dynCall_jiiiijiiiii=g.asm.qd).apply(null,arguments)},g.dynCall_viiij=function(){return(g.dynCall_viiij=g.asm.rd).apply(null,arguments)},g.dynCall_jii=function(){return(g.dynCall_jii=g.asm.sd).apply(null,arguments)},g.dynCall_vij=function(){return(g.dynCall_vij=g.asm.td).apply(null,arguments)},g.dynCall_iiij=function(){return(g.dynCall_iiij=g.asm.ud).apply(null,arguments)},g.dynCall_iiiij=function(){return(g.dynCall_iiiij=g.asm.vd).apply(null,arguments)},g.dynCall_viij=function(){return(g.dynCall_viij=g.asm.wd).apply(null,arguments)},g.dynCall_ji=function(){return(g.dynCall_ji=g.asm.xd).apply(null,arguments)},g.dynCall_iij=function(){return(g.dynCall_iij=g.asm.yd).apply(null,arguments)},g.dynCall_jiiiiii=function(){return(g.dynCall_jiiiiii=g.asm.zd).apply(null,arguments)},g.dynCall_jiiiiji=function(){return(g.dynCall_jiiiiji=g.asm.Ad).apply(null,arguments)},g.dynCall_iijj=function(){return(g.dynCall_iijj=g.asm.Bd).apply(null,arguments)},g.dynCall_iiiji=function(){return(g.dynCall_iiiji=g.asm.Cd).apply(null,arguments)},g.dynCall_iiji=function(){return(g.dynCall_iiji=g.asm.Dd).apply(null,arguments)},g.dynCall_iijjiii=function(){return(g.dynCall_iijjiii=g.asm.Ed).apply(null,arguments)},g.dynCall_vijjjii=function(){return(g.dynCall_vijjjii=g.asm.Fd).apply(null,arguments)},g.dynCall_jiji=function(){return(g.dynCall_jiji=g.asm.Gd).apply(null,arguments)},g.dynCall_viijii=function(){return(g.dynCall_viijii=g.asm.Hd).apply(null,arguments)},g.dynCall_iiiiij=function(){return(g.dynCall_iiiiij=g.asm.Id).apply(null,arguments)},g.dynCall_iiiiijj=function(){return(g.dynCall_iiiiijj=g.asm.Jd).apply(null,arguments)},g.dynCall_iiiiiijj=function(){return(g.dynCall_iiiiiijj=g.asm.Kd).apply(null,arguments)};function pi(t,e,n,o){var s=yt();try{return ft(t)(e,n,o)}catch(f){if(mt(s),f!==f+0)throw f;pt(1,0)}}function yi(t,e){var n=yt();try{return ft(t)(e)}catch(o){if(mt(n),o!==o+0)throw o;pt(1,0)}}function mi(t,e,n,o,s,f,m,c,h,v){var T=yt();try{ft(t)(e,n,o,s,f,m,c,h,v)}catch(b){if(mt(T),b!==b+0)throw b;pt(1,0)}}function gi(t,e,n,o){var s=yt();try{ft(t)(e,n,o)}catch(f){if(mt(s),f!==f+0)throw f;pt(1,0)}}function vi(t,e,n){var o=yt();try{ft(t)(e,n)}catch(s){if(mt(o),s!==s+0)throw s;pt(1,0)}}function Ai(t){var e=yt();try{ft(t)()}catch(n){if(mt(e),n!==n+0)throw n;pt(1,0)}}function wi(t,e,n,o,s){var f=yt();try{ft(t)(e,n,o,s)}catch(m){if(mt(f),m!==m+0)throw m;pt(1,0)}}function Pi(t,e){var n=yt();try{ft(t)(e)}catch(o){if(mt(n),o!==o+0)throw o;pt(1,0)}}function _i(t,e,n){var o=yt();try{return ft(t)(e,n)}catch(s){if(mt(o),s!==s+0)throw s;pt(1,0)}}function Si(t,e,n,o,s,f,m){var c=yt();try{ft(t)(e,n,o,s,f,m)}catch(h){if(mt(c),h!==h+0)throw h;pt(1,0)}}function Mi(t,e,n,o,s){var f=yt();try{return ft(t)(e,n,o,s)}catch(m){if(mt(f),m!==m+0)throw m;pt(1,0)}}function Fi(t,e,n,o,s,f){var m=yt();try{return ft(t)(e,n,o,s,f)}catch(c){if(mt(m),c!==c+0)throw c;pt(1,0)}}function Ti(t,e,n,o,s,f,m){var c=yt();try{return ft(t)(e,n,o,s,f,m)}catch(h){if(mt(c),h!==h+0)throw h;pt(1,0)}}function Ci(t,e,n,o,s,f){var m=yt();try{ft(t)(e,n,o,s,f)}catch(c){if(mt(m),c!==c+0)throw c;pt(1,0)}}function bi(t,e,n,o,s,f,m,c,h,v){var T=yt();try{return ft(t)(e,n,o,s,f,m,c,h,v)}catch(b){if(mt(T),b!==b+0)throw b;pt(1,0)}}var ar;function Sn(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}Me=function t(){ar||Tr(),ar||(Me=t)};function Tr(){function t(){if(!ar&&(ar=!0,g.calledRun=!0,!st)){if(fr($r),at(g),g.onRuntimeInitialized&&g.onRuntimeInitialized(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var e=g.postRun.shift();Xr.unshift(e)}fr(Xr)}}if(!(0<se)){if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Dn();fr(Vr),0<se||(g.setStatus?(g.setStatus("Running..."),setTimeout(function(){setTimeout(function(){g.setStatus("")},1),t()},1)):t())}}if(g.run=Tr,g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return Tr(),z.ready}})();V.exports=ut})(Rn);var ki=Rn.exports;const ji=Bi(ki),Ii=""+new URL("canvaskit-22821f1c.wasm",import.meta.url).href,Wi=""+new URL("WorkSans-Medium-954dd7a6.ttf",import.meta.url).href,Ui=""+new URL("WorkSans-Bold-4033872e.ttf",import.meta.url).href,Gi=""+new URL("NotoColorEmoji-Regular-f46c597f.ttf",import.meta.url).href,jt=96,he=document.getElementById("appCanvas");async function Di(V){return Promise.all([ji({locateFile:()=>Ii}),fetch(V.imageUrl).then(L=>L.arrayBuffer()),fetch(Wi).then(L=>L.arrayBuffer()),fetch(Ui).then(L=>L.arrayBuffer()),fetch(Gi).then(L=>L.arrayBuffer())]).then(async([L,ut,lt,z,g])=>{const at=L.MakeImageFromEncoded(ut),dt=L.MakeWebGLCanvasSurface(he),pe=new L.Paint;pe.setColor(L.BLACK),pe.setMaskFilter(L.MaskFilter.MakeBlur(L.BlurStyle.Normal,5,!0));const ye=new L.Paint;ye.setColor(L.TRANSPARENT);const me=L.FontMgr.FromData(lt,z,g),Zt=new L.ParagraphStyle({textStyle:{fontFamilies:["Work Sans","Noto Color Emoji"],color:L.WHITE,fontSize:150,fontStyle:{weight:L.FontWeight.Medium}},textAlign:L.TextAlign.Center}),gt=L.ParagraphBuilder.Make(Zt,me),vt=L.ParagraphBuilder.Make(Zt,me),ne=new DOMParser().parseFromString(`<doc>${V.contentXml}</doc>`,"text/xml").querySelectorAll("line");ne.forEach((nt,zt)=>{nt.childNodes.forEach(Ut=>{if(Ut.nodeName==="br"){gt.addText(`
`),vt.addText(`
`);return}const Xt=(Ut.textContent??"").replace(/\n/g,"").split(/(\p{Emoji}+)/gu).filter(st=>st.length>0).map(st=>({text:st,isEmoji:st.match(/\p{Emoji}+/u)!=null}));Xt.length!==0&&Xt.forEach(({text:st,isEmoji:oe})=>{if(oe){gt.addText(st),vt.pushStyle(new L.TextStyle({...Zt.textStyle,color:L.TRANSPARENT})),vt.addText(st),vt.pop();return}const ae=Ut.nodeName==="bold";vt.pushPaintStyle(new L.TextStyle({...Zt.textStyle,fontStyle:{weight:ae?L.FontWeight.ExtraBold:L.FontWeight.Medium}}),pe,ye),gt.pushStyle(new L.TextStyle({...Zt.textStyle,fontStyle:{weight:ae?L.FontWeight.ExtraBold:L.FontWeight.Medium}})),gt.addText(st),vt.addText(st),gt.pop(),vt.pop()})}),zt<ne.length-1&&(gt.addText(`

`),vt.addText(`

`))});const It=gt.build(),ie=vt.build();It.layout(he.width-2*jt),ie.layout(he.width-2*jt);const Jt=new L.Paint;Jt.setColor(L.Color(0,0,0,1)),Jt.setImageFilter(L.ImageFilter.MakeBlur(5,5,L.TileMode.Clamp,null));const ge=L.Shader.MakeLinearGradient([dt.height(),dt.width()],[0,0],[L.Color(...V.startColor),L.Color(...V.endColor)],null,L.TileMode.Clamp),Ne=L.Shader.MakeLinearGradient([dt.height(),dt.width()],[0,0],[L.Color(...V.startColor,.5),L.Color(...V.endColor,.5)],null,L.TileMode.Clamp);dt.drawOnce(nt=>{const zt=new L.Paint;zt.setShader(ge);const Wt=new L.Paint;Wt.setShader(Ne);const Ut=L.XYWHRect(jt,jt,dt.width()-2*jt,dt.height()-2*jt);nt.drawRect(L.LTRBRect(0,0,dt.width(),dt.height()),zt);const Xt=at.width()<at.height()?"width":"height",st=at[Xt]()/(dt[Xt]()-jt);jr(nt,()=>{nt.clipRect(Ut,L.ClipOp.Intersect,!0);const oe=(En(at.width()/st)-(dt.width()-jt))/2,ae=(En(at.height()/st)-(dt.height()-jt))/2;nt.drawImageRect(at,L.XYWHRect(0,0,at.width(),at.height()),L.XYWHRect(-oe,-ae,at.width()/st,at.height()/st),Jt)}),jr(nt,()=>{nt.clipRect(Ut,L.ClipOp.Intersect,!0),nt.drawRect(Ut,Wt)}),jr(nt,()=>{nt.drawParagraph(ie,jt+12*.8,(he.height-It.getHeight())/2+12*1.5),nt.drawParagraph(It,jt,(he.height-It.getHeight())/2)}),console.log("finished"),he.style.removeProperty("display"),Ni(zt,Wt,ge,Ne,at,vt,gt,It,ie)})}).catch(L=>{he.remove();const ut=document.createElement("div");ut.style.color="red",ut.innerText=`${L.message}`,document.body.append(ut),console.dir(L)})}function jr(V,L){V.save(),L(),V.restore()}function En(V){return Number.parseFloat(V.toFixed(5))}function Ni(...V){V.forEach(L=>L.delete())}const Ge=document.getElementById("generator-form"),ur=document.querySelector("#gradient-preview"),Ir=Ge.querySelector("#start_color"),Wr=Ge.querySelector("#end_color"),Ln=Ge.querySelector("#image_url");Ir.addEventListener("change",Ur);Wr.addEventListener("change",Ur);Ln.addEventListener("change",On);Ge.addEventListener("submit",async V=>{V.preventDefault();const L=Object.fromEntries([...new FormData(Ge)]);V.submitter.setAttribute("disabled","true"),await Di({imageUrl:L.image_url,contentXml:L.content_xml,startColor:Bn(L.start_color),endColor:Bn(L.end_color)}),ur.style.display="none",V.submitter.removeAttribute("disabled")});function Ur(){document.getElementById("app").style.setProperty("--start-color",Ir.value),document.getElementById("app").style.setProperty("--end-color",Wr.value);const V=Ir.value,L=Wr.value;ur.style.background=`linear-gradient(to bottom right, ${V}, ${L})`}function On(){try{ur.style.setProperty("--image-url",`url(${new URL(Ln.value).toString()})`)}catch{ur.style.removeProperty("--image-url")}}function Bn(V){const[L,ut,lt,z]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/gi.exec(V);return[Number.parseInt(ut,16),Number.parseInt(lt,16),Number.parseInt(z,16)]}Ur();On();
